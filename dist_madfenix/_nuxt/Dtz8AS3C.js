import{u as d,a as m,b as h}from"./C2BjQ3NH.js";import{_ as p,E as g,u as f,h as _,F as u,o as a,c,a as o,G as s,M as v,N as x,L as b}from"./DJJX_XDf.js";import{_ as k}from"./r3vhGLT-.js";const w={middleware:"auth",data(){return{user:d(),settings:m(),serverMessage:h(),api:null,events:[],route:g(),accountParameterToUrl:""}},computed:{},mounted(){var t,i,l,r;this.setUserCookies(),this.setBackground(),window.location.hostname=="our.welore.io"?this.accountParameterToUrl=this.route.params.account?this.route.params.account+"/":"":this.accountParameterToUrl=window.location.hostname.split(".")[0]+"/",this.setConfigCookies(),f({title:"Notificaciones - "+((i=(t=this.user.config)==null?void 0:t.config)==null?void 0:i.name_ecosystem),meta:[{hid:"description",name:"description",content:"Notificaciones en "+((r=(l=this.user.config)==null?void 0:l.config)==null?void 0:r.name_ecosystem)}]});const{$api:e}=_();this.api=e,this.fetch()},methods:{setBackground(){window.location.hostname=="madfenix.com"&&(document.getElementById("container-global").style.background="transparent url('/img/perfil/back_temp.jpg') no-repeat top center")},fetch(){this.api("/api/host/event",{method:"GET"}).then(e=>e?this.events=e:"").catch(e=>e.message?this.serverMessage.setServerMessage(e.message):this.serverMessage.setServerMessage("Error."))},setConfigCookies(){let e=u.get(this.accountParameterToUrl.replace(/^\/+|\/+$/g,"")+"_config");if(e&&(e=JSON.parse(e)),e)this.user.setConfig(this.accountParameterToUrl,e);else try{this.user.fetchConfig(this.accountParameterToUrl)}catch{}},setUserCookies(){let e=u.get("token");if(e){this.user.setToken(e);let t=u.get("user");if(t)this.user.updateUser(JSON.parse(t));else{console.log("test");try{this.user.fetchUser()}catch{}}}}}},y={key:0,class:s("p-5 sm:p-20")},T={class:s("relative rounded-tr-3xl rounded-bl-3xl sm:m-auto sm:w-1/2 border-2 border-[color:var(--naranja)] bg-[color:var(--gris)] overflow-hidden")},M={class:s("p-6 py-[120px] relative z-50")},U={class:s("bg-blue-500 text-white rounded shadow")},C={class:s("px-4 py-2")},S=["innerHTML"],N=["innerHTML"],L={class:s("px-4 py-2")},H=["innerHTML"];function B(e,t,i,l,r,P){return a(),c("div",null,[t[1]||(t[1]=o("h2",{class:s("leading-10 text-xl font-bold text-center mb-4 bg-[color:var(--naranja)] py-6 h-[100px] flex items-center justify-center")},"Notificaciones",-1)),r.user.user?(a(),c("div",y,[o("div",T,[t[0]||(t[0]=o("img",{src:k,class:s("absolute"),style:{"min-width":"1100px",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},null,-1)),o("div",M,[(a(!0),c(v,null,x(r.events,n=>(a(),c("div",{key:n.id,class:s("mt-5")},[o("div",U,[o("div",C,[o("div",{class:s("text-xl font-bold"),innerHTML:n.description},null,8,S),o("div",{class:s("text-sm"),innerHTML:new Date(n.reservated_at).toString()},null,8,N)]),o("div",L,[o("span",{innerHTML:n.details},null,8,H)])])]))),128))])])])):b("",!0)])}const E=p(w,[["render",B]]);export{E as _};
