import{_ as g}from"./Bn7aaFlb.js";import{u as h,a as v,b}from"./Nf_ULQDI.js";import{_ as x,E as _,u as T,h as k,F as a,o as u,c,a as r,G as o,d as n,L as m,b as f,w as p}from"./D6bX2HYE.js";import{_ as y}from"./CBH_ztJL.js";const P={middleware:"auth",data(){return{user:h(),settings:v(),serverMessage:b(),api:null,perfil:null,route:_(),accountParameterToUrl:""}},computed:{},mounted(){var e,i,l,s;this.setUserCookies(),this.setBackground(),this.accountParameterToUrl=this.route.params.account?this.route.params.account+"/":"",this.setConfigCookies(),T({title:"Vincular cartera de Hedera - "+((i=(e=this.user.config)==null?void 0:e.config)==null?void 0:i.name_ecosystem),meta:[{hid:"description",name:"description",content:"Vincular cartera de Hedera en "+((s=(l=this.user.config)==null?void 0:l.config)==null?void 0:s.name_ecosystem)}]});const{$api:t}=k();this.api=t,this.getPerfil()},methods:{setBackground(){document.getElementById("container-global").style.background="transparent url('/img/perfil/back_temp.jpg') no-repeat top center"},afterLogout(){a.remove("token"),a.remove("user"),this.user.setToken(""),this.user.setUserToNull(),this.user.removeUser(),setTimeout(()=>this.$router.push({path:"/"+this.accountParameterToUrl+"login"}),2e3)},logout(){this.api("/api/host/logout",{method:"POST"}).then(()=>this.afterLogout()).catch(()=>this.afterLogout())},afterPerfil(t){this.perfil=t},getPerfil(){this.api("/api/host/profile/getUserProfile",{method:"POST"}).then(t=>this.afterPerfil(t)).catch(()=>this.logout())},setConfigCookies(){let t=a.get(this.accountParameterToUrl.replace(/^\/+|\/+$/g,"")+"_config");if(t&&(t=JSON.parse(t)),t)this.user.setConfig(this.accountParameterToUrl,t);else try{this.user.fetchConfig(this.accountParameterToUrl)}catch{}},setUserCookies(){let t=a.get("token");if(t){this.user.setToken(t);let e=a.get("user");if(e)this.user.updateUser(JSON.parse(e));else{console.log("test");try{this.user.fetchUser()}catch{}}}}}},U={key:0,class:o("p-5 sm:p-20")},j={class:o("relative rounded-tr-3xl rounded-bl-3xl sm:m-auto sm:w-1/2 border-2 border-[color:var(--naranja)] bg-[color:var(--gris)] overflow-hidden")},w={class:o("p-6 py-[120px] relative z-50")},C={class:o("text-center text-[color:var(--blanco)]")},N=["innerHTML"],S=["innerHTML"],H={class:o("my-5")},L={class:o("relative sm:mx-auto sm:w-1/2 z-50 contenedor-botones-formularios")},V={class:o("flex justify-center")},B={class:o("contenedor-boton-left-formularios")};function M(t,e,i,l,s,E){const d=g;return u(),c("div",null,[e[11]||(e[11]=r("h2",{class:o("leading-10 text-xl font-bold text-center mb-4 bg-[color:var(--naranja)] py-6 h-[100px] flex items-center justify-center")},"Vincular cartera de Hedera",-1)),s.user.user?(u(),c("div",U,[r("div",j,[e[7]||(e[7]=r("img",{src:y,class:o("absolute"),style:{"min-width":"1100px",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},null,-1)),r("div",w,[r("div",C,[e[0]||(e[0]=n(" Debes enviar una transacción de 0. ")),s.perfil?(u(),c("span",{key:0,innerHTML:s.perfil.hedera_wallet_check},null,8,N)):m("",!0),e[1]||(e[1]=n(" hbar a la cartera 0.0.4970116 con el siguiente memo:")),e[2]||(e[2]=r("br",null,null,-1)),r("span",{class:o("text-3xl"),innerHTML:"vincular:"+s.user.user.id},null,8,S),e[3]||(e[3]=r("br",null,null,-1)),e[4]||(e[4]=n(" El proceso de vincular y asociar tus NFTs puede tardar hasta 1 hora.")),e[5]||(e[5]=r("br",null,null,-1))]),r("div",H,[f(d,{to:"/"+s.accountParameterToUrl+"perfil",class:o("flex items-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-[color:var(--gris)] font-semibold bg-[color:var(--naranja)] leading-snug transition ease-in-out h-10 lg:h-14 duration-250 hover:text-[color:var(--naranja)] hover:bg-[color:var(--gris)] border-[color:var(--naranja)] border-2 cursor-pointer")},{default:p(()=>e[6]||(e[6]=[n(" Perfil ")])),_:1},8,["to"])])])]),r("div",L,[r("div",V,[r("div",B,[f(d,{to:"/"+s.accountParameterToUrl+"perfil",class:o("flex items-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-[color:var(--gris)] font-semibold bg-[color:var(--naranja)] leading-snug transition ease-in-out h-10 lg:h-14 duration-250 hover:text-[color:var(--naranja)] hover:bg-[color:var(--gris)] border-[color:var(--naranja)] border-2 cursor-pointer")},{default:p(()=>e[8]||(e[8]=[n(" Volver al Perfil ")])),_:1},8,["to"])]),e[9]||(e[9]=r("div",{class:o("w-2 sm:w-12")},"   ",-1)),e[10]||(e[10]=r("div",{class:o("contenedor-boton-right-formularios")},null,-1))])])])):m("",!0)])}const $=x(P,[["render",M]]);export{$ as _};
