import{u as d,a as m,b as p}from"./oesT2u4W.js";import{_ as h,E as g,u as f,h as _,F as u,o as a,c,a as r,G as t,M as v,N as x,L as b}from"./hCLQA6P7.js";import{_ as k}from"./w4K75QbP.js";const y={middleware:"auth",data(){return{user:d(),settings:m(),serverMessage:p(),api:null,events:[],route:g(),accountParameterToUrl:""}},computed:{},mounted(){var s,i,l,o;this.setUserCookies(),this.setBackground(),this.accountParameterToUrl=this.route.params.account?this.route.params.account+"/":"",this.setConfigCookies(),f({title:"Notificaciones - "+((i=(s=this.user.config)==null?void 0:s.config)==null?void 0:i.name_ecosystem),meta:[{hid:"description",name:"description",content:"Notificaciones en "+((o=(l=this.user.config)==null?void 0:l.config)==null?void 0:o.name_ecosystem)}]});const{$api:e}=_();this.api=e,this.fetch()},methods:{setBackground(){document.getElementById("container-global").style.background="transparent url('/img/perfil/back_temp.jpg') no-repeat top center"},fetch(){this.api("/api/host/event",{method:"GET"}).then(e=>e?this.events=e:"").catch(e=>e.message?this.serverMessage.setServerMessage(e.message):this.serverMessage.setServerMessage("Error."))},setConfigCookies(){let e=u.get(this.accountParameterToUrl.replace(/^\/+|\/+$/g,"")+"_config");if(e&&(e=JSON.parse(e)),e)this.user.setConfig(this.accountParameterToUrl,e);else try{this.user.fetchConfig(this.accountParameterToUrl)}catch{}},setUserCookies(){let e=u.get("token");if(e){this.user.setToken(e);let s=u.get("user");if(s)this.user.updateUser(JSON.parse(s));else{console.log("test");try{this.user.fetchUser()}catch{}}}}}},M={key:0,class:t("p-5 sm:p-20")},T={class:t("relative rounded-tr-3xl rounded-bl-3xl sm:m-auto sm:w-1/2 border-2 border-[color:var(--naranja)] bg-[color:var(--gris)] overflow-hidden")},C={class:t("p-6 py-[120px] relative z-50")},S={class:t("bg-blue-500 text-white rounded shadow")},U={class:t("px-4 py-2")},N=["innerHTML"],L=["innerHTML"],w={class:t("px-4 py-2")},H=["innerHTML"];function B(e,s,i,l,o,P){return a(),c("div",null,[s[1]||(s[1]=r("h2",{class:t("leading-10 text-xl font-bold text-center mb-4 bg-[color:var(--naranja)] py-6 h-[100px] flex items-center justify-center")},"Notificaciones",-1)),o.user.user?(a(),c("div",M,[r("div",T,[s[0]||(s[0]=r("img",{src:k,class:t("absolute"),style:{"min-width":"1100px",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},null,-1)),r("div",C,[(a(!0),c(v,null,x(o.events,n=>(a(),c("div",{key:n.id,class:t("mt-5")},[r("div",S,[r("div",U,[r("div",{class:t("text-xl font-bold"),innerHTML:n.description},null,8,N),r("div",{class:t("text-sm"),innerHTML:new Date(n.reservated_at).toString()},null,8,L)]),r("div",w,[r("span",{innerHTML:n.details},null,8,H)])])]))),128))])])])):b("",!0)])}const E=h(y,[["render",B]]);export{E as _};
