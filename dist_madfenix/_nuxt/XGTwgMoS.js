import{u as c,a as l,b as u}from"./DAvdXyax.js";import{_ as p,u as m,e as h,f as a,c as i,a as s,F as f,r as g,h as _,o as n}from"./knuMkESF.js";import{_ as x}from"./CFU4QbY8.js";const v={middleware:"auth",data(){return{user:c(),settings:l(),serverMessage:u(),api:null,events:[]}},computed:{},mounted(){m({title:"Notificaciones - Mad Fénix Games",meta:[{hid:"description",name:"description",content:"Notificaciones en Mad Fénix Games."}]}),this.setUserCookies(),this.setBackground();const{$api:e}=h();this.api=e,this.fetch()},methods:{setBackground(){document.getElementById("container-global").style.background="transparent url('/img/perfil/back_temp.jpg') no-repeat top center"},fetch(){this.api("/api/event",{method:"GET"}).then(e=>e?this.events=e:"").catch(e=>e.message?this.serverMessage.setServerMessage(e.message):this.serverMessage.setServerMessage("Error."))},setUserCookies(){let e=a.get("token");if(e){this.user.setToken(e);let t=a.get("user");if(t)this.user.updateUser(JSON.parse(t));else{console.log("test");try{this.user.fetchUser()}catch{}}}}}},b={key:0,class:"p-5 sm:p-20"},M={class:"relative rounded-tr-3xl rounded-bl-3xl sm:m-auto sm:w-1/2 border-2 border-madfenix-naranja bg-madfenix-gris overflow-hidden"},k={class:"p-6 py-[120px] relative z-50"},y={class:"bg-blue-500 text-white rounded shadow"},S={class:"px-4 py-2"},T=["innerHTML"],w=["innerHTML"],H={class:"px-4 py-2"},L=["innerHTML"];function N(e,t,d,B,o,U){return n(),i("div",null,[t[1]||(t[1]=s("h2",{class:"leading-10 text-xl font-bold text-center mb-4 bg-madfenix-naranja py-6 h-[100px] flex items-center justify-center"},"Notificaciones",-1)),o.user.user?(n(),i("div",b,[s("div",M,[t[0]||(t[0]=s("img",{src:x,class:"absolute",style:{"min-width":"1100px",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},null,-1)),s("div",k,[(n(!0),i(f,null,g(o.events,r=>(n(),i("div",{key:r.id,class:"mt-5"},[s("div",y,[s("div",S,[s("div",{class:"text-xl font-bold",innerHTML:r.description},null,8,T),s("div",{class:"text-sm",innerHTML:new Date(r.reservated_at).toString()},null,8,w)]),s("div",H,[s("span",{innerHTML:r.details},null,8,L)])])]))),128))])])])):_("",!0)])}const G=p(v,[["render",N]]);export{G as default};
