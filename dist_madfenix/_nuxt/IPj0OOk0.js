import{_ as g}from"./zQGQyaFV.js";import{u as h,a as v,b as x}from"./CcQsjvEg.js";import{_ as b,E as _,u as T,h as k,H as d,o as l,c as u,a as r,F as o,d as a,L as m,b as f,w as p}from"./BA9t1zW4.js";import{_ as w}from"./DIVTIjdx.js";const y={middleware:"auth",data(){return{user:h(),settings:v(),serverMessage:x(),api:null,perfil:null,route:_(),accountParameterToUrl:""}},computed:{},mounted(){var e,n,i,s;this.setUserCookies(),this.setBackground(),window.location.hostname=="our.welore.io"||window.location.hostname=="localhost"?this.accountParameterToUrl=this.route.params.account?this.route.params.account+"/":"":this.accountParameterToUrl="",this.setConfigCookies(),T({title:"Vincular cartera de Hedera - "+((n=(e=this.user.config)==null?void 0:e.config)==null?void 0:n.name_ecosystem),meta:[{hid:"description",name:"description",content:"Vincular cartera de Hedera en "+((s=(i=this.user.config)==null?void 0:i.config)==null?void 0:s.name_ecosystem)}]});const{$api:t}=k();this.api=t,this.getPerfil()},methods:{setBackground(){window.location.hostname=="madfenix.com"&&(document.getElementById("container-global").style.background="transparent url('/img/perfil/back_temp.jpg') no-repeat top center")},afterLogout(){d.remove("token"),d.remove("user"),this.user.setToken(""),this.user.setUserToNull(),this.user.removeUser(),setTimeout(()=>this.$router.push({path:"/"+this.accountParameterToUrl+"login"}),2e3)},logout(){this.api("/api/host/logout",{method:"POST"}).then(()=>this.afterLogout()).catch(()=>this.afterLogout())},afterPerfil(t){this.perfil=t},getPerfil(){this.api("/api/host/profile/getUserProfile",{method:"POST"}).then(t=>this.afterPerfil(t)).catch(()=>this.logout())},setConfigCookies(){let t=localStorage.getItem(this.accountParameterToUrl.replace(/^\/+|\/+$/g,"")+"_config");if(t&&(t=JSON.parse(t)),t)this.user.setConfig(this.accountParameterToUrl,t);else try{this.user.fetchConfig(this.accountParameterToUrl)}catch{}},setUserCookies(){let t=localStorage.getItem("token");if(t){this.user.setToken(t);let e=localStorage.getItem("user");if(e)this.user.updateUser(JSON.parse(e));else{console.log("test");try{this.user.fetchUser()}catch{}}}}}},P={key:0,class:o("p-5 sm:p-20")},U={class:o("relative rounded-tr-3xl rounded-bl-3xl sm:m-auto sm:w-1/2 border-2 border-[color:var(--naranja)] bg-[color:var(--gris)] overflow-hidden")},j={class:o("p-6 py-[120px] relative z-50")},S={class:o("text-center text-[color:var(--blanco)]")},C=["innerHTML"],H=["innerHTML"],N={class:o("my-5")},L={class:o("relative sm:mx-auto sm:w-1/2 z-50 contenedor-botones-formularios")},V={class:o("flex justify-center")},B={class:o("contenedor-boton-left-formularios")};function M(t,e,n,i,s,E){const c=g;return l(),u("div",null,[e[11]||(e[11]=r("h2",{class:o("leading-10 text-xl font-bold text-center mb-4 bg-[color:var(--naranja)] py-6 h-[100px] flex items-center justify-center")},"Vincular cartera de Hedera",-1)),s.user.user?(l(),u("div",P,[r("div",U,[e[7]||(e[7]=r("img",{src:w,class:o("absolute"),style:{"min-width":"1100px",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},null,-1)),r("div",j,[r("div",S,[e[0]||(e[0]=a(" Debes enviar una transacción de 0. ")),s.perfil?(l(),u("span",{key:0,innerHTML:s.perfil.hedera_wallet_check},null,8,C)):m("",!0),e[1]||(e[1]=a(" hbar a la cartera 0.0.4970116 con el siguiente memo:")),e[2]||(e[2]=r("br",null,null,-1)),r("span",{class:o("text-3xl"),innerHTML:"vincular:"+s.user.user.id},null,8,H),e[3]||(e[3]=r("br",null,null,-1)),e[4]||(e[4]=a(" El proceso de vincular y asociar tus NFTs puede tardar hasta 1 hora.")),e[5]||(e[5]=r("br",null,null,-1))]),r("div",N,[f(c,{to:"/"+s.accountParameterToUrl+"perfil",class:o("flex items-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-[color:var(--gris)] font-semibold bg-[color:var(--naranja)] leading-snug transition ease-in-out h-10 lg:h-14 duration-250 hover:text-[color:var(--naranja)] hover:bg-[color:var(--gris)] border-[color:var(--naranja)] border-2 cursor-pointer")},{default:p(()=>e[6]||(e[6]=[a(" Perfil ")])),_:1},8,["to"])])])]),r("div",L,[r("div",V,[r("div",B,[f(c,{to:"/"+s.accountParameterToUrl+"perfil",class:o("flex items-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-[color:var(--gris)] font-semibold bg-[color:var(--naranja)] leading-snug transition ease-in-out h-10 lg:h-14 duration-250 hover:text-[color:var(--naranja)] hover:bg-[color:var(--gris)] border-[color:var(--naranja)] border-2 cursor-pointer")},{default:p(()=>e[8]||(e[8]=[a(" Volver al Perfil ")])),_:1},8,["to"])]),e[9]||(e[9]=r("div",{class:o("w-2 sm:w-12")},"   ",-1)),e[10]||(e[10]=r("div",{class:o("contenedor-boton-right-formularios")},null,-1))])])])):m("",!0)])}const J=b(y,[["render",M]]);export{J as _};
