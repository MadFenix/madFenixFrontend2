import{_ as g}from"./aA2wvse4.js";import{_ as x,u as b,P as v,e as l,c as n,F as u,r as m,g as f,o as a,a as s,b as c,w as p,d as _}from"./7mr4NtWn.js";import{u as k,a as y,b as w}from"./C2oDq7eq.js";import{u as j}from"./BxyVhGVW.js";const T={middleware:"auth",data(){return{user:k(),settings:y(),serverMessage:w(),api:null,perfil:null,nft_id:null}},mounted(){j({title:"Colección - Mad Fénix Games",meta:[{hid:"description",name:"description",content:"Colección en Mad Fénix Games."}]}),this.setUserCookies(),this.setBackground();const{$api:t}=b();this.api=t,this.nft_id=(this._.provides[v]||this.$route).query.nft_id,this.getPerfil()},computed:{nfts(){let t=[];if(this.perfil&&this.perfil.nfts)for(let e=0;e<this.perfil.nfts.length;e++)this.nft_id==this.perfil.nfts[e].nft_id&&t.push(this.perfil.nfts[e]);return t},nfts_hedera(){let t=[];if(this.perfil&&this.perfil.nfts_hedera)for(let e=0;e<this.perfil.nfts_hedera.length;e++)this.nft_id==this.perfil.nfts_hedera[e].nft_id&&t.push(this.perfil.nfts_hedera[e]);return t},nftCollections(){let t=[];if(this.perfil&&this.perfil.nfts){for(let e=0;e<this.perfil.nfts.length;e++)if(this.nft_id==this.perfil.nfts[e].nft_id){t.push({nft_id:this.perfil.nfts[e].nft_id,name:this.perfil.nfts[e].nft.name,short_description:this.perfil.nfts[e].nft.short_description,portrait_image:this.perfil.nfts[e].nft.portrait_image,featured_image:this.perfil.nfts[e].nft.featured_image});break}}if(this.perfil&&this.perfil.nfts_hedera){for(let e=0;e<this.perfil.nfts_hedera.length;e++)if(this.nft_id==this.perfil.nfts_hedera[e].nft_id&&!t.some(r=>r.nft_id===this.perfil.nfts_hedera[e].nft_id)){t.push({nft_id:this.perfil.nfts_hedera[e].nft_id,name:this.perfil.nfts_hedera[e].nft.name,short_description:this.perfil.nfts_hedera[e].nft.short_description,portrait_image:this.perfil.nfts_hedera[e].nft.portrait_image,featured_image:this.perfil.nfts_hedera[e].nft.featured_image});break}}return t}},methods:{setBackground(){document.getElementById("container-global").style.background="transparent url('/img/perfil/back_temp.jpg') no-repeat top center"},afterLogout(){l.remove("token"),l.remove("user"),this.user.setToken(""),this.user.setUserToNull(),this.user.removeUser(),setTimeout(()=>this.$router.push({path:"/login"}),2e3)},logout(){this.api("/api/logout",{method:"POST"}).then(()=>this.afterLogout()).catch(()=>this.afterLogout())},afterPerfil(t){this.perfil=t},getPerfil(){this.api("/api/profile/getUserProfile",{method:"POST"}).then(t=>this.afterPerfil(t)).catch(()=>this.logout())},countNFTsByid(t){let e=0;if(this.perfil&&this.perfil.nfts)for(let r=0;r<this.perfil.nfts.length;r++)this.perfil.nfts[r].nft_id==t&&(e+=1);if(this.perfil&&this.perfil.nfts_hedera)for(let r=0;r<this.perfil.nfts_hedera.length;r++)this.perfil.nfts_hedera[r].nft_id==t&&(e+=1);return e},setUserCookies(){let t=l.get("token");if(t){this.user.setToken(t);let e=l.get("user");if(e)this.user.updateUser(JSON.parse(e));else{console.log("test");try{this.user.fetchUser()}catch{}}}}}},L={key:0,class:"mb-4"},M={class:"relative rounded-tl-3xl rounded-br-3xl min-h-[300px] mx-3 mt-12 sm:mx-auto sm:w-2/3 bg-madfenix-gris border border-madfenix-naranja overflow-hidden"},P=["src"],N={class:"relative sm:mx-auto sm:w-1/2 z-50 contenedor-botones-formularios"},S={class:"flex justify-center"},B={class:"contenedor-boton-left-formularios"},H={class:"contenedor-boton-right-formularios"},U=["innerHTML"],z={key:1,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 mt-6 mx-3 sm:mx-auto sm:w-2/3"},C={class:"relative rounded-tr-3xl rounded-bl-3xl border-2 border-madfenix-naranja bg-madfenix-gris overflow-hidden"},F=["src","alt","title"],V=["innerHTML"],O={key:0,class:"relative sm:mx-auto sm:w-1/2 z-50 contenedor-botones-formularios"},R={class:"flex justify-center"},E={class:"relative rounded-tr-3xl rounded-bl-3xl border-2 border-madfenix-naranja bg-madfenix-gris overflow-hidden"},G=["src","alt","title"],q=["innerHTML"];function A(t,e,r,I,d,o){const h=g;return d.user.user&&d.perfil?(a(),n("div",L,[o.nftCollections?(a(!0),n(u,{key:0},m(o.nftCollections,i=>(a(),n("div",{class:"w-full",key:i.nft_id},[s("div",M,[s("img",{src:i.featured_image,class:"absolute",style:{"min-width":"1100px",top:"50%",left:"50%",transform:"translate(-50%, -40%)"}},null,8,P),e[0]||(e[0]=s("div",{class:"relative min-h-[300px] mb-0 p-6 z-50"},"   ",-1))]),s("div",N,[s("div",S,[s("div",B,[c(h,{to:"/perfil",class:"flex items-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-madfenix-gris font-semibold bg-madfenix-naranja leading-snug transition ease-in-out h-10 lg:h-14 duration-250 hover:text-madfenix-naranja hover:bg-madfenix-gris border-madfenix-naranja border-2 cursor-pointer"},{default:p(()=>e[1]||(e[1]=[_(" Volver al Perfil ")])),_:1})]),e[2]||(e[2]=s("div",{class:"w-2 sm:w-12"},"   ",-1)),s("div",H,[s("div",{class:"flex items-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-madfenix-gris font-semibold bg-madfenix-naranja leading-snug transition ease-in-out h-10 lg:h-14 duration-250 border-madfenix-naranja border-2",innerHTML:i.name+" ("+o.countNFTsByid(i.nft_id)+")"},null,8,U)])])])]))),128)):f("",!0),d.perfil?(a(),n("div",z,[(a(!0),n(u,null,m(o.nfts,i=>(a(),n("div",{key:i.id},[s("div",C,[s("img",{src:i.image,style:{width:"100%"},alt:i.name,title:i.name},null,8,F),s("div",{class:"px-6 mt-3 mb-10 relative z-50 w-full text-center text-madfenix-blanco",innerHTML:i.name},null,8,V)]),i.nft.token_number>0?(a(),n("div",O,[s("div",R,[s("div",null,[c(h,{to:"/transfiere-item-a-hedera/?item_identification_id="+i.id+"&nft_token_id="+i.nft.token_props+"."+i.nft.token_realm+"."+i.nft.token_number,class:"flex items-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-madfenix-gris font-semibold bg-madfenix-naranja leading-snug transition ease-in-out h-10 lg:h-14 duration-250 hover:text-madfenix-naranja hover:bg-madfenix-gris border-madfenix-naranja border-2 cursor-pointer"},{default:p(()=>e[3]||(e[3]=[_(" Transferir ")])),_:2},1032,["to"])])])])):f("",!0)]))),128)),(a(!0),n(u,null,m(o.nfts_hedera,i=>(a(),n("div",{key:i.id},[s("div",E,[s("img",{src:i.image,style:{width:"100%"},alt:i.name,title:i.name},null,8,G),s("div",{class:"px-6 mt-3 mb-10 relative z-50 w-full text-center text-madfenix-blanco",innerHTML:i.name},null,8,q)]),e[4]||(e[4]=s("div",{class:"relative sm:mx-auto sm:w-1/2 z-50 contenedor-botones-formularios"},[s("div",{class:"flex justify-center"},[s("div",null,[s("div",{class:"flex items-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-madfenix-gris font-semibold bg-madfenix-naranja leading-snug transition ease-in-out h-10 lg:h-14 duration-250 border-madfenix-naranja border-2"}," Hedera ")])])],-1))]))),128))])):f("",!0)])):f("",!0)}const W=x(T,[["render",A]]);export{W as default};
