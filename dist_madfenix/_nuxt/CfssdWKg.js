import{_ as y}from"./D9FV153s.js";import{u as k,_ as T}from"./BzoBx1-M.js";import{u as M,a as L,b as S}from"./CMjI5qov.js";import{p,_ as H,u as z,e as g,c as n,a as t,d as o,b as u,w as x,g as c,F as b,r as _,o as r}from"./B_JPdZaX.js";import{u as F}from"./DjBNytbP.js";const P=p("/img/perfil/tiefling_bard.png"),v=p("/img/perfil/twitch_account.svg"),C=p("/img/perfil/logout.svg"),N=p("/img/perfil/oro.png"),A=p("/img/perfil/adivinacion.png"),B={middleware:"auth",data(){return{polls:k(),user:M(),settings:L(),serverMessage:S(),categorySelected:null,subcategorySelected:null,api:null,perfil:null}},mounted(){F({title:"Perfil - Mad Fénix Games",meta:[{hid:"description",name:"description",content:"Perfil en Mad Fénix Games."}]}),this.setUserCookies(),this.user.token&&this.polls.fetchPolls(),this.setBackground();const{$api:i}=z();this.api=i,this.getPerfil()},computed:{nftCollections(){let i=[],e=!1,a=!0,m=null;if(this.perfil&&this.perfil.nft_categories)for(let s=0;s<this.perfil.nft_categories.length;s++)for(let d=0;d<this.perfil.nft_categories[s].nfts.length;d++)m=this.perfil.nft_categories[s].nfts[d],e=!1,this.categorySelected&&m.category==this.categorySelected.name&&(e=!0),a=!0,this.subcategorySelected&&(a=!1,m.subcategory==this.subcategorySelected&&(a=!0)),!i.some(f=>f.nft_id===m.id)&&e&&a&&i.push({nft_id:m.id,name:m.name,short_description:m.short_description,portrait_image:m.portrait_image,featured_image:m.featured_image,token_number:m.token_number});return i},pollsNotAnswered(){let i=0;if(this.polls.polls)for(let e=0;e<this.polls.polls.length;e++)this.polls.polls[e].userAnswer||i++;return i}},methods:{setBackground(){document.getElementById("container-global").style.background="transparent url('/img/perfil/back_temp.jpg') no-repeat top center"},afterLogout(){g.remove("token"),g.remove("user"),this.user.setToken(""),this.user.setUserToNull(),this.user.removeUser(),setTimeout(()=>this.$router.push({path:"/login"}),2e3)},logout(){this.api("/api/logout",{method:"POST"}).then(()=>this.afterLogout()).catch(()=>this.afterLogout())},afterPerfil(i){this.perfil=i},getPerfil(){this.api("/api/profile/getUserProfile",{method:"POST"}).then(i=>this.afterPerfil(i)).catch(()=>this.logout())},desconectarTwitch(){confirm("¿Estás seguro que quieres desconectar tu cuenta de Twitch?")&&this.api("/api/twitch/disconnectTwitch",{method:"POST"}).then(e=>this.getPerfil()).catch(e=>e.message?e.message==="The given data was invalid."?this.serverMessage.setServerMessage("Datos inválidos."):this.serverMessage.setServerMessage(e.message):this.serverMessage.setServerMessage("Error."))},desconectarSteam(){this.api("/api/steam/disconnectSteam",{method:"POST"}).then(i=>this.getPerfil()).catch(i=>i.message?i.message==="The given data was invalid."?this.serverMessage.setServerMessage("Datos inválidos."):this.serverMessage.setServerMessage(i.message):this.serverMessage.setServerMessage("Error."))},conectarSteam(){},countNFTsByid(i){let e=0;if(this.perfil&&this.perfil.nfts)for(let a=0;a<this.perfil.nfts.length;a++)this.perfil.nfts[a].nft_id==i&&(e+=1);if(this.perfil&&this.perfil.nfts_hedera)for(let a=0;a<this.perfil.nfts_hedera.length;a++)this.perfil.nfts_hedera[a].nft_id==i&&(e+=1);return e},setUserCookies(){let i=g.get("token");if(i){this.user.setToken(i);let e=g.get("user");if(e)this.user.updateUser(JSON.parse(e));else{console.log("test");try{this.user.fetchUser()}catch{}}}}}},D={key:0},U={class:"md:grid md:grid-cols-3 md:items-center border-y-2 border-madfenix-naranja bg-madfenix-gris"},E={class:"text-right col-span-1 px-6"},O=["innerHTML"],V=["innerHTML"],R={class:"flex space-x-3 justify-end my-3"},I={key:0,class:"flex items-center space-x-3 text-white text-center"},q=["innerHTML"],G={key:1},J=["href"],K={class:"col-span-1 px-6"},Q={key:0,class:"my-4 w-full text-white text-center text-sm lg:text-xl"},W=["innerHTML"],X={key:1,class:"my-4"},Y={key:2,class:"my-4"},Z={key:3,class:"my-4 w-full text-white text-center text-sm lg:text-xl"},$=["innerHTML"],ee={key:4,class:"my-4"},te={key:5,class:"my-4 w-full text-white text-center text-sm lg:text-xl"},se=["innerHTML"],ne={key:6,class:"my-4"},re={key:7,class:"my-4 w-full text-white text-center hidden text-sm lg:text-xl"},ie=["innerHTML"],oe={key:8,class:"my-4 hidden text-sm lg:text-xl"},le={class:"my-4"},ae={class:"max-w-screen-xl px-4 py-7 pt-12 mx-auto md:py-7 md:pt-16 sm:px-6 lg:px-8"},de={class:"relative z-30 grid grid-cols-1 sm:grid-cols-12 items-center justify-center mx-auto text-center px-4 sm:px-16 lg:flex-row lg:text-left"},fe={class:"sm:col-span-3 flex items-center py-6 sm:py-0 px-12 h-full text-2xl font-bold sm:text-4xl rounded-tr-3xl sm:rounded-tr-none rounded-tl-3xl sm:rounded-bl-3xl bg-madfenix-gris"},me={class:"font-extrabold tracking-tight text-white text-size-token-number text-center w-full"},ue=["innerHTML"],xe={key:1},ce=["innerHTML"],pe={class:"sm:col-span-7 px-3 sm:px-0 py-3 sm:py-0 flex space-x-3 items-center justify-center h-full bg-madfenix-azul sm:rounded-tr-3xl rounded-bl-3xl sm:rounded-bl-none rounded-br-3xl sm:mr-12 lg:justify-end"},ge={class:"botones-tokens"},he={class:"max-w-screen-xl px-4 py-7 mx-auto md:py-7 sm:px-6 lg:px-8"},be={class:"relative z-30 grid grid-cols-1 sm:grid-cols-12 items-center justify-center mx-auto text-center px-4 sm:px-16 lg:flex-row lg:text-left"},_e={class:"sm:col-span-3 flex items-center py-6 sm:py-0 px-12 h-full text-2xl font-bold sm:text-4xl rounded-tr-3xl sm:rounded-tr-none rounded-tl-3xl sm:rounded-bl-3xl bg-madfenix-gris"},ye={class:"font-extrabold tracking-tight text-white text-size-token-number text-center w-full"},ve=["innerHTML"],we={key:1},je=["innerHTML"],ke={class:"sm:col-span-7 px-3 sm:px-0 py-3 sm:py-0 flex items-center space-x-3 justify-center h-full bg-madfenix-azul sm:rounded-tr-3xl rounded-bl-3xl sm:rounded-bl-none rounded-br-3xl sm:mr-12 lg:justify-end"},Te={class:"botones-tokens"},Me={class:"max-w-screen-xl px-4 py-7 pb-12 mx-auto md:py-7 md:pb-16 sm:px-6 lg:px-8"},Le={class:"relative z-30 grid grid-cols-1 sm:grid-cols-12 items-center justify-center mx-auto text-center px-4 sm:px-16 lg:flex-row lg:text-left"},Se={class:"sm:col-span-3 flex items-center py-6 sm:py-0 px-12 h-full text-2xl font-bold sm:text-4xl rounded-tr-3xl sm:rounded-tr-none rounded-tl-3xl sm:rounded-bl-3xl bg-madfenix-gris"},He={class:"font-extrabold tracking-tight text-white text-size-token-number text-center w-full"},ze=["innerHTML"],Fe={class:"sm:col-span-7 px-3 sm:px-0 py-3 sm:py-0 flex items-center space-x-3 justify-center h-full bg-madfenix-azul sm:rounded-tr-3xl rounded-bl-3xl sm:rounded-bl-none rounded-br-3xl sm:mr-12 lg:justify-end"},Pe={class:"botones-tokens"},Ce={key:0,class:"flex flex-wrap justify-center space-x-3 max-w-screen-xl mx-auto sm:w-3/4"},Ne=["onClick"],Ae=["innerHTML"],Be={key:1,class:"flex flex-wrap justify-center space-x-3 max-w-screen-xl mx-auto sm:w-3/4"},De=["onClick"],Ue=["innerHTML"],Ee={class:"relative rounded-tl-3xl rounded-br-3xl min-h-[300px] mx-3 mt-12 sm:mx-auto sm:w-2/3 bg-madfenix-gris border border-madfenix-naranja overflow-hidden"},Oe=["src"],Ve={class:"relative sm:mx-auto sm:w-1/2 z-50 contenedor-botones-formularios"},Re={class:"flex justify-center"},Ie={class:"contenedor-boton-right-formularios flex space-x-3"},qe=["href"];function Ge(i,e,a,m,s,d){const f=y,w=y;return s.user.user&&s.perfil?(r(),n("div",D,[t("div",U,[e[20]||(e[20]=t("div",{class:"col-span-1 h-full"},[t("img",{src:P,alt:"Avatar perfil Mad Fénix",title:"Avatar perfil Mad Fénix",class:"h-full"})],-1)),t("div",E,[t("div",{innerHTML:"@"+s.user.user.name,class:"text-sm lg:text-xl font-black text-madfenix-naranja my-3"},null,8,O),t("div",{innerHTML:s.user.user.email,class:"text-sm lg:text-xl text-white my-3"},null,8,V),t("div",R,[s.perfil&&s.perfil.user_twitch?(r(),n("div",I,[t("a",{onClick:e[0]||(e[0]=l=>d.desconectarTwitch()),class:"cursor-pointer"},e[4]||(e[4]=[t("img",{src:v,alt:"Desconectar Twitch",title:"Desconectar Twitch",class:"w-[50px] lg:w-[70px]"},null,-1)])),t("span",{innerHTML:s.perfil.user_twitch},null,8,q)])):(r(),n("div",G,[t("a",{href:"https://id.twitch.tv/oauth2/authorize?response_type=code&client_id=2wbjjwkzyy9t68a8ex5b4fsz7kfc37&redirect_uri=https%3A%2F%2Fapi.madfenix.com%2Fapi%2Ftwitch%2FconnectAccount&scope=user%3Aread%3Aemail&state=user"+s.user.user.id,class:"cursor-pointer"},e[5]||(e[5]=[t("img",{src:v,alt:"Conectar Twitch",title:"Conectar Twitch",class:"w-[50px] lg:w-[70px]"},null,-1)]),8,J)])),t("div",null,[t("a",{onClick:e[1]||(e[1]=l=>d.logout()),class:"cursor-pointer"},e[6]||(e[6]=[t("img",{src:C,alt:"Logout",title:"Logout",class:"w-[50px] lg:w-[70px]"},null,-1)]))])])]),t("div",K,[s.perfil&&s.perfil.hedera_wallet?(r(),n("div",Q,[e[7]||(e[7]=o(" Tu cartera de hedera vinculada: ")),t("span",{innerHTML:s.perfil.hedera_wallet},null,8,W),e[8]||(e[8]=o(".  "))])):s.perfil&&s.perfil.hedera_wallet_check?(r(),n("div",X,[u(f,{to:"/vincular-wallet-hedera-2",class:"flex items-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-madfenix-gris font-semibold bg-madfenix-naranja leading-snug transition ease-in-out h-10 lg:h-14 duration-250 hover:text-madfenix-naranja hover:bg-madfenix-gris border-madfenix-naranja border-2 cursor-pointer"},{default:x(()=>e[9]||(e[9]=[o(" Vincular hedera ")])),_:1})])):(r(),n("div",Y,[u(f,{to:"/vincular-wallet-hedera",class:"flex items-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-madfenix-gris font-semibold bg-madfenix-naranja leading-snug transition ease-in-out h-10 lg:h-14 duration-250 hover:text-madfenix-naranja hover:bg-madfenix-gris border-madfenix-naranja border-2 cursor-pointer"},{default:x(()=>e[10]||(e[10]=[o(" Vincular hedera ")])),_:1})])),s.perfil&&s.perfil.referred_code_from?(r(),n("div",Z,[e[11]||(e[11]=o(" Tu referido: ")),t("span",{innerHTML:s.perfil.referred_code_from},null,8,$),e[12]||(e[12]=o(".  "))])):(r(),n("div",ee,[u(f,{to:"/vincular-codigo-referido",class:"flex items-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-madfenix-gris font-semibold bg-madfenix-naranja leading-snug transition ease-in-out h-10 lg:h-14 duration-250 hover:text-madfenix-naranja hover:bg-madfenix-gris border-madfenix-naranja border-2 cursor-pointer"},{default:x(()=>e[13]||(e[13]=[o(" Vincular código de referido ")])),_:1})])),s.perfil&&s.perfil.referred_code?(r(),n("div",te,[e[14]||(e[14]=o(" Tu código de referido: ")),t("span",{innerHTML:s.perfil.referred_code},null,8,se),e[15]||(e[15]=o(".  "))])):(r(),n("div",ne,[u(f,{to:"/crear-codigo-referido",class:"flex items-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-madfenix-gris font-semibold bg-madfenix-naranja leading-snug transition ease-in-out h-10 lg:h-14 duration-250 hover:text-madfenix-naranja hover:bg-madfenix-gris border-madfenix-naranja border-2 cursor-pointer"},{default:x(()=>e[16]||(e[16]=[o(" Crear código de referido ")])),_:1})])),s.perfil&&s.perfil.user_steam?(r(),n("div",re,[e[17]||(e[17]=o(" Conectad@ con ")),t("span",{innerHTML:s.perfil.user_steam},null,8,ie),e[18]||(e[18]=o(".  ")),t("a",{onClick:e[2]||(e[2]=l=>d.desconectarSteam()),class:"text-white underline font-semibold hover:no-underline"}," Desconectar Steam ")])):(r(),n("div",oe,[t("a",{onClick:e[3]||(e[3]=l=>d.conectarSteam()),class:"flex items-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-madfenix-gris font-semibold bg-madfenix-naranja leading-snug transition ease-in-out h-10 lg:h-14 duration-250 hover:text-madfenix-naranja hover:bg-madfenix-gris border-madfenix-naranja border-2 cursor-pointer"}," Conectar Steam ")])),t("div",le,[u(f,{to:"/eliminar-cuenta",class:"flex items-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-madfenix-gris font-semibold bg-madfenix-naranja leading-snug transition ease-in-out h-10 lg:h-14 duration-250 hover:text-madfenix-naranja hover:bg-madfenix-gris border-madfenix-naranja border-2 cursor-pointer"},{default:x(()=>e[19]||(e[19]=[o(" Eliminar cuenta ")])),_:1})])])]),t("section",ae,[t("div",de,[t("div",fe,[t("h5",me,[s.perfil?(r(),n("span",{key:0,innerHTML:s.perfil.oro},null,8,ue)):(r(),n("span",xe,"...")),s.perfil&&s.perfil.oro_hedera?(r(),n("p",{key:2,innerHTML:s.perfil.oro_hedera+" RED",class:"mt-4 text-xl"},null,8,ce)):c("",!0)])]),e[25]||(e[25]=t("div",{class:"sm:col-span-2 flex items-center justify-center bg-madfenix-azul"},[t("img",{src:N,alt:"Oro",class:"absolute z-50 h-1/2 sm:h-full"}),t("svg",{class:"inset-y-0 z-40 h-full text-madfenix-gris",preserveAspectRatio:"none",viewBox:"0 0 100 100",fill:"currentcolor"},[t("polygon",{points:"0,0 100,0 0,100"})])],-1)),t("div",pe,[e[24]||(e[24]=t("h5",{class:"grow font-extrabold tracking-tight text-white text-size-token"}," Oros ",-1)),t("div",ge,[u(f,{to:"/canjear-cupon-oro",class:"flex items-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-madfenix-gris font-semibold bg-madfenix-naranja leading-snug transition ease-in-out h-10 lg:h-14 duration-250 hover:text-madfenix-naranja hover:bg-madfenix-gris border-madfenix-naranja border-2 cursor-pointer"},{default:x(()=>e[21]||(e[21]=[o(" Canjea un cupón ")])),_:1}),e[23]||(e[23]=t("br",null,null,-1)),u(f,{to:"/transfiere-oro-a-hedera-previo1",class:"flex items-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-madfenix-gris font-semibold bg-madfenix-naranja leading-snug transition ease-in-out h-10 lg:h-14 duration-250 hover:text-madfenix-naranja hover:bg-madfenix-gris border-madfenix-naranja border-2 cursor-pointer"},{default:x(()=>e[22]||(e[22]=[o(" Transfiere Oro ")])),_:1})])])])]),t("section",he,[t("div",be,[t("div",_e,[t("h5",ye,[s.perfil?(r(),n("span",{key:0,innerHTML:s.perfil.plumas},null,8,ve)):(r(),n("span",we,"...")),s.perfil&&s.perfil.plumas_hedera?(r(),n("p",{key:2,innerHTML:s.perfil.plumas_hedera+" RED",class:"mt-4 text-xl"},null,8,je)):c("",!0)])]),e[30]||(e[30]=t("div",{class:"sm:col-span-2 flex items-center justify-center bg-madfenix-azul"},[t("img",{src:T,alt:"Plumas",class:"absolute z-50 h-1/2 sm:h-full"}),t("svg",{class:"inset-y-0 z-40 h-full text-madfenix-gris",preserveAspectRatio:"none",viewBox:"0 0 100 100",fill:"currentcolor"},[t("polygon",{points:"0,0 100,0 0,100"})])],-1)),t("div",ke,[e[29]||(e[29]=t("h5",{class:"grow font-extrabold tracking-tight text-white text-size-token"}," Plumas ",-1)),t("div",Te,[u(f,{to:"/canjear-cupon",class:"flex items-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-madfenix-gris font-semibold bg-madfenix-naranja leading-snug transition ease-in-out h-10 lg:h-14 duration-250 hover:text-madfenix-naranja hover:bg-madfenix-gris border-madfenix-naranja border-2 cursor-pointer"},{default:x(()=>e[26]||(e[26]=[o(" Canjea un cupón ")])),_:1}),e[28]||(e[28]=t("br",null,null,-1)),u(f,{to:"/transfiere-plumas-a-hedera-previo1",class:"flex items-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-madfenix-gris font-semibold bg-madfenix-naranja leading-snug transition ease-in-out h-10 lg:h-14 duration-250 hover:text-madfenix-naranja hover:bg-madfenix-gris border-madfenix-naranja border-2 cursor-pointer"},{default:x(()=>e[27]||(e[27]=[o(" Transfiere Plumas ")])),_:1})])])])]),t("section",Me,[t("div",Le,[t("div",Se,[t("h5",He,[t("span",{innerHTML:d.pollsNotAnswered},null,8,ze)])]),e[33]||(e[33]=t("div",{class:"sm:col-span-2 flex items-center justify-center bg-madfenix-azul"},[t("img",{src:A,alt:"Influye",class:"absolute z-50 h-1/2 sm:h-full"}),t("svg",{class:"inset-y-0 z-40 h-full text-madfenix-gris",preserveAspectRatio:"none",viewBox:"0 0 100 100",fill:"currentcolor"},[t("polygon",{points:"0,0 100,0 0,100"})])],-1)),t("div",Fe,[e[32]||(e[32]=t("h5",{class:"grow font-extrabold tracking-tight text-white text-size-token"}," Destino ",-1)),t("div",Pe,[u(f,{to:"/influye",class:"flex items-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-madfenix-gris font-semibold bg-madfenix-naranja leading-snug transition ease-in-out h-10 lg:h-14 duration-250 hover:text-madfenix-naranja hover:bg-madfenix-gris border-madfenix-naranja border-2 cursor-pointer"},{default:x(()=>e[31]||(e[31]=[o(" Influye en Névoran ")])),_:1})])])])]),s.perfil&&s.perfil.nft_categories?(r(),n("div",Ce,[(r(!0),n(b,null,_(s.perfil.nft_categories,(l,h)=>(r(),n("div",{class:"py-2 md:py-2",key:h},[t("a",{onClick:j=>{s.categorySelected=l,s.subcategorySelected=null},class:"flex items-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-madfenix-gris font-semibold bg-madfenix-naranja leading-snug transition ease-in-out h-10 lg:h-14 duration-250 hover:text-madfenix-naranja hover:bg-madfenix-gris border-madfenix-naranja border-2 cursor-pointer"},[t("span",{innerHTML:l.name},null,8,Ae)],8,Ne)]))),128))])):c("",!0),s.perfil&&s.categorySelected?(r(),n("div",Be,[(r(!0),n(b,null,_(s.categorySelected.subcategories,(l,h)=>(r(),n("div",{class:"py-2 md:py-2",key:h},[t("a",{onClick:j=>s.subcategorySelected=l,class:"flex items-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-madfenix-gris font-semibold bg-madfenix-naranja leading-snug transition ease-in-out h-10 lg:h-14 duration-250 hover:text-madfenix-naranja hover:bg-madfenix-gris border-madfenix-naranja border-2 cursor-pointer"},[t("span",{innerHTML:l},null,8,Ue)],8,De)]))),128))])):c("",!0),d.nftCollections?(r(!0),n(b,{key:2},_(d.nftCollections,l=>(r(),n("div",{class:"w-full",key:l.nft_id},[t("div",Ee,[t("img",{src:l.featured_image,class:"absolute",style:{"min-width":"1100px",top:"50%",left:"50%",transform:"translate(-50%, -40%)"}},null,8,Oe),e[34]||(e[34]=t("div",{class:"relative min-h-[300px] mb-0 p-6 z-50"},"   ",-1))]),t("div",Ve,[t("div",Re,[t("div",Ie,[t("a",{href:"https://market.kabila.app/es/collections/"+l.token_number+"/items",target:"_blank",class:"flex justify-center items-center text-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-madfenix-gris font-semibold bg-madfenix-naranja leading-snug transition ease-in-out h-10 lg:h-14 duration-250 hover:text-madfenix-naranja hover:bg-madfenix-gris border-madfenix-naranja border-2 cursor-pointer",innerHTML:"Mercado secundario"},null,8,qe),u(w,{to:"/coleccion/?nft_id="+l.nft_id,class:"flex items-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-madfenix-gris font-semibold bg-madfenix-naranja leading-snug transition ease-in-out h-10 lg:h-14 duration-250 hover:text-madfenix-naranja hover:bg-madfenix-gris border-madfenix-naranja border-2 cursor-pointer",innerHTML:l.name+" ("+d.countNFTsByid(l.nft_id)+")"},null,8,["to","innerHTML"])])])])]))),128)):c("",!0),e[35]||(e[35]=t("div",{class:"p-4"},"   ",-1))])):c("",!0)}const Ye=H(B,[["render",Ge]]);export{Ye as default};
