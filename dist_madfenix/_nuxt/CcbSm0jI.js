import{u as s,a as o,b as a}from"./D6RBe4X6.js";import{f as i}from"./Czu44XBA.js";import{_ as r,r as n,h as l,H as t,o as u,c,U as d}from"./D4vDGtT3.js";const p={components:{VueCookieComply:i},head:{title:"Mad Fénix Games",meta:[{hid:"description",name:"description",content:"Mad Fénix Games."}]},data(){return{mobileNavOpen:!1,user:s(),settings:o(),serverMessage:a(),api:null,items:[{icon:["fas","user"],text:"Perfil",path:"/perfil"},{icon:["fas","user"],text:"Temporada",path:"/temporada"},{icon:["fas","user"],text:"Tienda",path:"/tienda"}],footerItems:[{href:"https://twitter.com/madfenixgames",icon:["fab","twitter"],title:"Pperfil de Twitter"},{href:"https://www.instagram.com/madfenixgames/",icon:["fab","instagram"],title:"Perfil de Instagram"}],preferences:[{title:"Token (necesario)",description:"Esta cookie contiene el token de acceso a la API del proyecto. Con este token se autoriza el acceso a los recursos protegidos y se mantiene la sesión del usuario. Su validez y renovación dependen de la configuración del backend.",items:[{label:"token",value:"token",isRequired:!0}]},{title:"User (necesario)",description:"Esta cookie almacena los datos del perfil del usuario, lo que permite personalizar tu experiencia en el sitio. Se actualiza cada vez que se modifican los datos del usuario.",items:[{label:"user",value:"user",isRequired:!0}]}],result:null}},mounted(){this.setUserCookies(),this.result=n("Esperando la interacción del usuario...");const{$api:e}=l();this.api=e},methods:{afterLogout(){t.remove("token"),t.remove("user"),this.user.setToken(""),this.user.setUserToNull(),this.user.removeUser(),setTimeout(()=>this.$router.push({path:"/login"}),2e3)},logout(){this.api("/api/logout",{method:"POST"}).then(()=>this.afterLogout()).catch(()=>this.afterLogout())},setUserCookies(){this.user.token=localStorage.getItem("token"),localStorage.getItem("user")&&(this.user.user=JSON.parse(localStorage.getItem("user")))},onDecline(e){this.result.value="El usuario no aceptó cookies. 👎: "+e.join(", ")+" (requerido)"},onAccept(e){this.result.value="El usuario aceptó todas las cookies. 👍: "+e.join(", ")},_onSave(e){this.result.value="El usuario aceptó las siguientes cookies 📋: "+e.join(", ")}}};function m(e,f,h,g,k,v){return u(),c("div",null,[d(e.$slots,"default")])}const b=r(p,[["render",m]]);export{b as default};
