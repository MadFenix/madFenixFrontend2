import{_ as v}from"./JYaq8-bY.js";import{u as h,a as b,b as _}from"./Br9E0i3q.js";import{_ as M,u as w,e as y,f as o,c as d,a as t,g as l,v as m,j as g,h as j,b as u,w as p,o as x,d as f}from"./Bg4yKTBV.js";import{_ as k}from"./DUNHGY0u.js";const S={data(){return{user:h(),settings:b(),serverMessage:_(),api:null,signInData:{email:"",password:"",device_name:"website"}}},computed:{},mounted(){w({title:"Login - Mad Fénix Games",meta:[{hid:"description",name:"description",content:"Login en Mad Fénix Games."}]}),this.setUserCookies(),this.setBackground();const{$api:e}=y();this.api=e},methods:{setBackground(){document.getElementById("container-global").style.background="transparent url('/img/perfil/back_temp.jpg') no-repeat top center"},afterLogin(e){this.user.setToken(e.token),this.user.fetchUser(),this.$router.push("/sala-de-espera")},login(){this.api("/api/login",{method:"POST",body:this.signInData}).then(e=>e.token?this.afterLogin(e):this.serverMessage.setServerMessage(e)).catch(e=>e.message?e.message==="The given data was invalid."?this.serverMessage.setServerMessage("Datos inválidos."):e.response&&e.response._data&&e.response._data.message?this.serverMessage.setServerMessage(e.response._data.message):e.response&&e.response._data?this.serverMessage.setServerMessage(e.response._data):this.serverMessage.setServerMessage(e.message):e.response&&e.response._data&&e.response._data.message?this.serverMessage.setServerMessage(e.response._data.message):e.response&&e.response._data?this.serverMessage.setServerMessage(e.response._data):this.serverMessage.setServerMessage(e))},setUserCookies(){let e=o.get("token");if(e){this.user.setToken(e);let s=o.get("user");if(s)this.user.updateUser(JSON.parse(s));else{console.log("test");try{this.user.fetchUser()}catch{}}}}}},I={class:"p-5 sm:p-20"},D={class:"relative rounded-tr-3xl rounded-bl-3xl sm:m-auto sm:w-1/2 border-2 border-madfenix-naranja bg-madfenix-gris overflow-hidden"},L={class:"p-6 py-[120px] relative z-50"},T={class:"mt-5"},U={class:"relative"},N={class:"mt-3"},B={class:"relative"},V=["innerHTML"],C={class:"mt-5 flex justify-center"},H={class:"relative sm:mx-auto sm:w-1/2 z-50 contenedor-botones-formularios"},z={class:"flex justify-center"},E={class:"contenedor-boton-left-formularios"},K={class:"contenedor-boton-right-formularios"};function F(e,s,c,G,n,r){const i=v;return x(),d("div",null,[s[9]||(s[9]=t("h2",{class:"leading-10 text-xl font-bold text-center mb-4 bg-madfenix-naranja py-6 h-[100px] flex items-center justify-center"},"Login",-1)),t("div",I,[t("div",D,[s[6]||(s[6]=t("img",{src:k,class:"absolute",style:{"min-width":"1100px",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},null,-1)),t("div",L,[t("div",T,[t("div",U,[l(t("input",{id:"email",type:"text","onUpdate:modelValue":s[0]||(s[0]=a=>n.signInData.email=a),placeholder:"Ingresa tu email",onKeyup:s[1]||(s[1]=g(a=>r.login(),["enter"])),class:"w-full text-madfenix-blanco text-center text-3xl rounded-tl-3xl rounded-br-3xl bg-madfenix-gris py-4 pl-10 pr-3 border-2 border-madfenix-gris focus:border-madfenix-naranja"},null,544),[[m,n.signInData.email]])])]),t("div",N,[t("div",B,[l(t("input",{id:"password",type:"password","onUpdate:modelValue":s[2]||(s[2]=a=>n.signInData.password=a),placeholder:"Ingresa tu contraseña",onKeyup:s[3]||(s[3]=g(a=>r.login(),["enter"])),class:"w-full text-madfenix-blanco text-center text-3xl rounded-tl-3xl rounded-br-3xl bg-madfenix-gris py-4 pl-10 pr-3 border-2 border-madfenix-gris focus:border-madfenix-naranja"},null,544),[[m,n.signInData.password]])])]),n.serverMessage.serverMessage?(x(),d("div",{key:0,innerHTML:n.serverMessage.serverMessage,class:"text-madfenix-rojo w-full text-center"},null,8,V)):j("",!0),t("div",C,[u(i,{to:"/recordar-password",class:"text-madfenix-azul hover:underline"},{default:p(()=>s[5]||(s[5]=[f(" ¿Has olvidado el password? ")])),_:1})])])]),t("div",H,[t("div",z,[t("div",E,[u(i,{to:"/registro",class:"flex items-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-madfenix-gris font-semibold bg-madfenix-naranja leading-snug transition ease-in-out h-10 lg:h-14 duration-250 hover:text-madfenix-naranja hover:bg-madfenix-gris border-madfenix-naranja border-2 cursor-pointer"},{default:p(()=>s[7]||(s[7]=[f(" Registro ")])),_:1})]),s[8]||(s[8]=t("div",{class:"w-2 sm:w-12"},"   ",-1)),t("div",K,[t("button",{onClick:s[4]||(s[4]=(...a)=>r.login&&r.login(...a)),class:"flex items-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-madfenix-gris font-semibold bg-madfenix-naranja leading-snug transition ease-in-out h-10 lg:h-14 duration-250 hover:text-madfenix-naranja hover:bg-madfenix-gris border-madfenix-naranja border-2 cursor-pointer"}," Entrar ")])])])])])}const R=M(S,[["render",F]]);export{R as default};
