import{H as o,F as s,h as i}from"./DJJX_XDf.js";const n=o("userStore",{state:()=>({token:"",user:null,config:null,colors:{backgroundGeneral:"#303030",gris:"#161616",azul:"#326B8A",verde:"#517A31",rojo:"#7A313B",naranja:"#FC9208",blanco:"#EBEBEB"}}),actions:{setToken(e){localStorage.setItem("token",e),s.set("token",e,{expires:365,path:"/"}),this.token=e},setUserToNull(){const e="";localStorage.setItem("user",JSON.stringify(e)),s.set("user",JSON.stringify(e),{expires:365,path:"/"}),this.user=e},setUser(e){localStorage.setItem("user",JSON.stringify(e)),s.set("user",JSON.stringify(e),{expires:365,path:"/"}),this.user=e},setConfig(e,t){this.colors.backgroundGeneral=t.theme.color_background_secondary??"#303030",this.colors.gris=t.theme.color_black??"#161616",this.colors.naranja=t.theme.color_primary??"#FC9208",this.colors.azul=t.theme.color_secondary??"#326B8A",this.colors.blanco=t.theme.color_white0??"#EBEBEB";const r=e.replace(/^\/+|\/+$/g,"");localStorage.setItem(r+"_config",JSON.stringify(t)),s.set(r+"_config",JSON.stringify(t),{expires:365,path:"/"}),this.config=t},updateUser(e){localStorage.setItem("user",JSON.stringify(e)),s.set("user",JSON.stringify(e),{expires:365,path:"/"}),this.user=e},updateConfig(e,t){const r=e.replace(/^\/+|\/+$/g,"");localStorage.setItem(r+"_config",JSON.stringify(t)),s.set(r+"_config",JSON.stringify(t),{expires:365,path:"/"}),this.config=t},removeUser(){localStorage.setItem("user",""),s.set("user","",{expires:365,path:"/"}),this.user=""},removeConfig(e){const t=e.replace(/^\/+|\/+$/g,"");localStorage.setItem(t+"_config",""),s.set(t+"_config","",{expires:365,path:"/"}),this.user=""},fetchUser(){const{$api:e}=i();e("/api/host/user").then(t=>{t&&t.data?(s.set("user",JSON.stringify(t.data),{expires:365,path:"/"}),this.updateUser(t.data)):this.removeUser()}).catch(()=>this.user=null)},fetchConfig(e){const{$api:t}=i(),r=e.replace(/^\/+|\/+$/g,"");t("/api/host/theme/active").then(a=>{a&&a.data?(s.set(r+"_config",JSON.stringify(a.data),{expires:365,path:"/"}),this.updateConfig(r,a.data)):this.removeConfig(r)}).catch(()=>this.config=null)}}}),l=o("settingsStore",{state:()=>({}),actions:{}}),h=o("serverMessageStore",{state:()=>({serverMessage:"",serverMessageTimeout:null}),actions:{setServerMessage(e){this.serverMessage=e,this.serverMessageTimeout=setTimeout(()=>{this.serverMessage=""},5e3)}}});export{l as a,h as b,n as u};
