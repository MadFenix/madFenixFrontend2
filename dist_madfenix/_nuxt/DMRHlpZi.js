import{_ as b}from"./BdN1bxfY.js";import{u as f,a as x,b as _}from"./oesT2u4W.js";import{_ as U,E as w,u as y,h as k,F as c,o as p,c as g,a as s,G as r,J as n,K as d,S as m,d as v,L as M,b as D,w as j}from"./hCLQA6P7.js";import{_ as C}from"./w4K75QbP.js";const S={data(){return{user:f(),settings:x(),serverMessage:_(),api:null,signUpData:{name:"",email:"",password:"",newsletter:!1},signUpCheck:!1,route:w(),accountParameterToUrl:""}},computed:{},mounted(){var e,i,l,t;this.setUserCookies(),this.setBackground(),this.accountParameterToUrl=this.route.params.account?this.route.params.account+"/":"",this.setConfigCookies(),y({title:"Registro - "+((i=(e=this.user.config)==null?void 0:e.config)==null?void 0:i.name_ecosystem),meta:[{hid:"description",name:"description",content:"Registro en "+((t=(l=this.user.config)==null?void 0:l.config)==null?void 0:t.name_ecosystem)}]});const{$api:o}=k();this.api=o},methods:{setBackground(){document.getElementById("container-global").style.background="transparent url('/img/perfil/back_temp.jpg') no-repeat top center"},signUp(){if(this.signUpData.name==""){this.serverMessage.setServerMessage("Debes poner un nombre de usuario.");return}if(this.signUpData.email==""){this.serverMessage.setServerMessage("Debes poner un correo.");return}if(this.signUpData.password==""||this.signUpData.password.length<8){this.serverMessage.setServerMessage("Debes poner un password de almenos 8 carácteres.");return}if(!this.signUpCheck){this.serverMessage.setServerMessage("Debes aceptar los términos y condiciones.");return}this.api("/api/host/register",{method:"POST",body:this.signUpData}).then(o=>o==="User registered"?this.$router.push({path:"/"+this.accountParameterToUrl+"login"}):this.serverMessage.setServerMessage(o))},setConfigCookies(){let o=c.get(this.accountParameterToUrl.replace(/^\/+|\/+$/g,"")+"_config");if(o&&(o=JSON.parse(o)),o)this.user.setConfig(this.accountParameterToUrl,o);else try{this.user.fetchConfig(this.accountParameterToUrl)}catch{}},setUserCookies(){let o=c.get("token");if(o){this.user.setToken(o);let e=c.get("user");if(e)this.user.updateUser(JSON.parse(e));else{console.log("test");try{this.user.fetchUser()}catch{}}}}}},T={class:r("p-5 sm:p-20")},V={class:r("relative rounded-tr-3xl rounded-bl-3xl sm:m-auto sm:w-1/2 border-2 border-[color:var(--naranja)] bg-[color:var(--gris)] overflow-hidden")},P={class:r("p-6 py-[120px] relative z-50")},N={class:r("mt-5")},B={class:r("relative")},E={class:r("mt-3")},I={class:r("relative")},L={class:r("mt-3")},R={class:r("relative")},z={class:r("grid grid-cols-12 items-center mt-3")},H={class:r("col-span-2")},J={class:r("col-span-10 text-[color:var(--blanco)]")},O=["href"],A={class:r("grid grid-cols-12 items-center mt-3")},F={class:r("col-span-2")},G=["innerHTML"],K={class:r("relative sm:mx-auto sm:w-1/2 z-50 contenedor-botones-formularios")},Q={class:r("flex justify-center")},q={class:r("contenedor-boton-left-formularios")},W={class:r("contenedor-boton-right-formularios")};function X(o,e,i,l,t,u){const h=b;return p(),g("div",null,[e[11]||(e[11]=s("h2",{class:r("leading-10 text-xl font-bold text-center mb-4 bg-[color:var(--naranja)] py-6 h-[100px] flex items-center justify-center")},"Registro",-1)),s("div",T,[s("div",V,[e[8]||(e[8]=s("img",{src:C,class:r("absolute"),style:{"min-width":"1100px",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},null,-1)),s("div",P,[s("div",N,[s("div",B,[n(s("input",{id:"name",type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>t.signUpData.name=a),placeholder:"Ingresa tu nombre",class:r("w-full text-[color:var(--blanco)] text-center text-3xl rounded-tl-3xl rounded-br-3xl bg-[color:var(--gris)] py-4 pl-10 pr-3 border-2 border-[color:var(--gris)] focus:border-[color:var(--naranja)]")},null,512),[[d,t.signUpData.name]])])]),s("div",E,[s("div",I,[n(s("input",{id:"email",type:"email","onUpdate:modelValue":e[1]||(e[1]=a=>t.signUpData.email=a),placeholder:"Ingresa tu email",class:r("w-full text-[color:var(--blanco)] text-center text-3xl rounded-tl-3xl rounded-br-3xl bg-[color:var(--gris)] py-4 pl-10 pr-3 border-2 border-[color:var(--gris)] focus:border-[color:var(--naranja)]")},null,512),[[d,t.signUpData.email]])])]),s("div",L,[s("div",R,[n(s("input",{id:"password",type:"password","onUpdate:modelValue":e[2]||(e[2]=a=>t.signUpData.password=a),placeholder:"Ingresa tu password",class:r("w-full text-[color:var(--blanco)] text-center text-3xl rounded-tl-3xl rounded-br-3xl bg-[color:var(--gris)] py-4 pl-10 pr-3 border-2 border-[color:var(--gris)] focus:border-[color:var(--naranja)]")},null,512),[[d,t.signUpData.password]])])]),s("div",null,[s("div",z,[s("div",H,[n(s("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=a=>t.signUpCheck=a),class:r("form-checkbox h-5 w-5 text-blue-500")},null,512),[[m,t.signUpCheck]])]),s("div",J,[e[6]||(e[6]=v(" Acepto los ")),s("a",{href:"/"+t.accountParameterToUrl+"condiciones",target:"_blank",class:r("text-blue-500 hover:underline")},"términos y condiciones",8,O)])])]),s("div",null,[s("div",A,[s("div",F,[n(s("input",{type:"checkbox","onUpdate:modelValue":e[4]||(e[4]=a=>t.signUpData.newsletter=a),class:r("form-checkbox h-5 w-5 text-blue-500")},null,512),[[m,t.signUpData.newsletter]])]),e[7]||(e[7]=s("div",{class:r("col-span-10 text-[color:var(--blanco)]")}," Quiero recibir la newsletter ",-1))])]),t.serverMessage.serverMessage?(p(),g("div",{key:0,innerHTML:t.serverMessage.serverMessage,class:r("text-[color:var(--rojo)] w-full text-center")},null,8,G)):M("",!0)])]),s("div",K,[s("div",Q,[s("div",q,[D(h,{to:"/"+t.accountParameterToUrl+"login",class:r("flex items-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-[color:var(--gris)] font-semibold bg-[color:var(--naranja)] leading-snug transition ease-in-out h-10 lg:h-14 duration-250 hover:text-[color:var(--naranja)] hover:bg-[color:var(--gris)] border-[color:var(--naranja)] border-2 cursor-pointer")},{default:j(()=>e[9]||(e[9]=[v(" Volver al Login ")])),_:1},8,["to"])]),e[10]||(e[10]=s("div",{class:r("w-2 sm:w-12")},"   ",-1)),s("div",W,[s("button",{onClick:e[5]||(e[5]=(...a)=>u.signUp&&u.signUp(...a)),class:r("flex items-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-[color:var(--gris)] font-semibold bg-[color:var(--naranja)] leading-snug transition ease-in-out h-10 lg:h-14 duration-250 hover:text-[color:var(--naranja)] hover:bg-[color:var(--gris)] border-[color:var(--naranja)] border-2 cursor-pointer")}," Enviar ")])])])])])}const se=U(S,[["render",X]]);export{se as _};
