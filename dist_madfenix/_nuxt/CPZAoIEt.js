import{_ as h}from"./BXIUChwT.js";import{u as f,a as b,b as x}from"./COtTB0B9.js";import{_,E as U,u as w,h as y,o as u,c as p,a as s,F as t,J as n,K as c,S as g,d as m,L as k,b as M,w as D}from"./BqLSPAkt.js";import{_ as j}from"./nQ8E5vDP.js";const C={data(){return{user:f(),settings:b(),serverMessage:x(),api:null,signUpData:{name:"",email:"",password:"",newsletter:!1},signUpCheck:!1,route:U(),accountParameterToUrl:""}},computed:{},mounted(){var e,i,l,r;this.setUserCookies(),this.setBackground(),window.location.hostname=="our.welore.io"?this.accountParameterToUrl=this.route.params.account?this.route.params.account+"/":"":this.accountParameterToUrl=window.location.hostname.split(".")[0]+"/",this.setConfigCookies(),w({title:"Registro - "+((i=(e=this.user.config)==null?void 0:e.config)==null?void 0:i.name_ecosystem),meta:[{hid:"description",name:"description",content:"Registro en "+((r=(l=this.user.config)==null?void 0:l.config)==null?void 0:r.name_ecosystem)}]});const{$api:o}=y();this.api=o},methods:{setBackground(){window.location.hostname=="madfenix.com"&&(document.getElementById("container-global").style.background="transparent url('/img/perfil/back_temp.jpg') no-repeat top center")},signUp(){if(this.signUpData.name==""){this.serverMessage.setServerMessage("Debes poner un nombre de usuario.");return}if(this.signUpData.email==""){this.serverMessage.setServerMessage("Debes poner un correo.");return}if(this.signUpData.password==""||this.signUpData.password.length<8){this.serverMessage.setServerMessage("Debes poner un password de almenos 8 carácteres.");return}if(!this.signUpCheck){this.serverMessage.setServerMessage("Debes aceptar los términos y condiciones.");return}this.api("/api/host/register",{method:"POST",body:this.signUpData}).then(o=>o==="User registered"?this.$router.push({path:"/"+this.accountParameterToUrl+"login"}):this.serverMessage.setServerMessage(o))},setConfigCookies(){let o=localStorage.getItem(this.accountParameterToUrl.replace(/^\/+|\/+$/g,"")+"_config");if(o&&(o=JSON.parse(o)),o)this.user.setConfig(this.accountParameterToUrl,o);else try{this.user.fetchConfig(this.accountParameterToUrl)}catch{}},setUserCookies(){let o=localStorage.getItem("token");if(o){this.user.setToken(o);let e=localStorage.getItem("user");if(e)this.user.updateUser(JSON.parse(e));else{console.log("test");try{this.user.fetchUser()}catch{}}}}}},S={class:t("p-5 sm:p-20")},T={class:t("relative rounded-tr-3xl rounded-bl-3xl sm:m-auto sm:w-1/2 border-2 border-[color:var(--naranja)] bg-[color:var(--gris)] overflow-hidden")},P={class:t("p-6 py-[120px] relative z-50")},V={class:t("mt-5")},I={class:t("relative")},N={class:t("mt-3")},B={class:t("relative")},E={class:t("mt-3")},L={class:t("relative")},R={class:t("grid grid-cols-12 items-center mt-3")},z={class:t("col-span-2")},H={class:t("col-span-10 text-[color:var(--blanco)]")},J=["href"],O={class:t("grid grid-cols-12 items-center mt-3")},A={class:t("col-span-2")},F=["innerHTML"],K={class:t("relative sm:mx-auto sm:w-1/2 z-50 contenedor-botones-formularios")},Q={class:t("flex justify-center")},q={class:t("contenedor-boton-left-formularios")},G={class:t("contenedor-boton-right-formularios")};function W(o,e,i,l,r,d){const v=h;return u(),p("div",null,[e[11]||(e[11]=s("h2",{class:t("leading-10 text-xl font-bold text-center mb-4 bg-[color:var(--naranja)] py-6 h-[100px] flex items-center justify-center")},"Registro",-1)),s("div",S,[s("div",T,[e[8]||(e[8]=s("img",{src:j,class:t("absolute"),style:{"min-width":"1100px",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},null,-1)),s("div",P,[s("div",V,[s("div",I,[n(s("input",{id:"name",type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>r.signUpData.name=a),placeholder:"Ingresa tu nombre",class:t("w-full text-[color:var(--blanco)] text-center text-3xl rounded-tl-3xl rounded-br-3xl bg-[color:var(--gris)] py-4 pl-10 pr-3 border-2 border-[color:var(--gris)] focus:border-[color:var(--naranja)]")},null,512),[[c,r.signUpData.name]])])]),s("div",N,[s("div",B,[n(s("input",{id:"email",type:"email","onUpdate:modelValue":e[1]||(e[1]=a=>r.signUpData.email=a),placeholder:"Ingresa tu email",class:t("w-full text-[color:var(--blanco)] text-center text-3xl rounded-tl-3xl rounded-br-3xl bg-[color:var(--gris)] py-4 pl-10 pr-3 border-2 border-[color:var(--gris)] focus:border-[color:var(--naranja)]")},null,512),[[c,r.signUpData.email]])])]),s("div",E,[s("div",L,[n(s("input",{id:"password",type:"password","onUpdate:modelValue":e[2]||(e[2]=a=>r.signUpData.password=a),placeholder:"Ingresa tu password",class:t("w-full text-[color:var(--blanco)] text-center text-3xl rounded-tl-3xl rounded-br-3xl bg-[color:var(--gris)] py-4 pl-10 pr-3 border-2 border-[color:var(--gris)] focus:border-[color:var(--naranja)]")},null,512),[[c,r.signUpData.password]])])]),s("div",null,[s("div",R,[s("div",z,[n(s("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=a=>r.signUpCheck=a),class:t("form-checkbox h-5 w-5 text-blue-500")},null,512),[[g,r.signUpCheck]])]),s("div",H,[e[6]||(e[6]=m(" Acepto los ")),s("a",{href:"/"+r.accountParameterToUrl+"condiciones",target:"_blank",class:t("text-blue-500 hover:underline")},"términos y condiciones",8,J)])])]),s("div",null,[s("div",O,[s("div",A,[n(s("input",{type:"checkbox","onUpdate:modelValue":e[4]||(e[4]=a=>r.signUpData.newsletter=a),class:t("form-checkbox h-5 w-5 text-blue-500")},null,512),[[g,r.signUpData.newsletter]])]),e[7]||(e[7]=s("div",{class:t("col-span-10 text-[color:var(--blanco)]")}," Quiero recibir la newsletter ",-1))])]),r.serverMessage.serverMessage?(u(),p("div",{key:0,innerHTML:r.serverMessage.serverMessage,class:t("text-[color:var(--rojo)] w-full text-center")},null,8,F)):k("",!0)])]),s("div",K,[s("div",Q,[s("div",q,[M(v,{to:"/"+r.accountParameterToUrl+"login",class:t("flex items-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-[color:var(--gris)] font-semibold bg-[color:var(--naranja)] leading-snug transition ease-in-out h-10 lg:h-14 duration-250 hover:text-[color:var(--naranja)] hover:bg-[color:var(--gris)] border-[color:var(--naranja)] border-2 cursor-pointer")},{default:D(()=>e[9]||(e[9]=[m(" Volver al Login ")])),_:1},8,["to"])]),e[10]||(e[10]=s("div",{class:t("w-2 sm:w-12")},"   ",-1)),s("div",G,[s("button",{onClick:e[5]||(e[5]=(...a)=>d.signUp&&d.signUp(...a)),class:t("flex items-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-[color:var(--gris)] font-semibold bg-[color:var(--naranja)] leading-snug transition ease-in-out h-10 lg:h-14 duration-250 hover:text-[color:var(--naranja)] hover:bg-[color:var(--gris)] border-[color:var(--naranja)] border-2 cursor-pointer")}," Enviar ")])])])])])}const ee=_(C,[["render",W]]);export{ee as _};
