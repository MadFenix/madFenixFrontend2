import{G as a,H as i,h as o}from"./Czf7bK41.js";const l=a("userStore",{state:()=>({token:"",user:null,config:null,colors:{backgroundGeneral:"#303030",gris:"#161616",azul:"#326B8A",verde:"#517A31",rojo:"#7A313B",naranja:"#FC9208",blanco:"#EBEBEB"}}),actions:{setToken(e){localStorage.setItem("token",e),i.set("token",e,{expires:365,path:"/"}),this.token=e},setUserToNull(){const e="";localStorage.setItem("user",JSON.stringify(e)),this.user=e},setUser(e){localStorage.setItem("user",JSON.stringify(e)),this.user=e},setConfig(e,t){this.colors.backgroundGeneral=t.theme.color_background_secondary??"#303030",this.colors.gris=t.theme.color_black??"#161616",this.colors.naranja=t.theme.color_primary??"#FC9208",this.colors.azul=t.theme.color_secondary??"#326B8A",this.colors.blanco=t.theme.color_white0??"#EBEBEB";const s=e.replace(/^\/+|\/+$/g,"");localStorage.setItem(s+"_config",JSON.stringify(t)),this.config=t},updateUser(e){localStorage.setItem("user",JSON.stringify(e)),this.user=e},updateConfig(e,t){const s=e.replace(/^\/+|\/+$/g,"");localStorage.setItem(s+"_config",JSON.stringify(t)),this.config=t},removeUser(){localStorage.setItem("user",""),this.user=""},removeConfig(e){const t=e.replace(/^\/+|\/+$/g,"");localStorage.setItem(t+"_config",""),this.user=""},fetchUser(){const{$api:e}=o();e("/api/host/user").then(t=>{t&&t.data?this.updateUser(t.data):this.removeUser()}).catch(()=>this.user=null)},fetchConfig(e){const{$api:t}=o(),s=e.replace(/^\/+|\/+$/g,"");t("/api/host/theme/active").then(r=>{r&&r.data?this.updateConfig(s,r.data):this.removeConfig(s)}).catch(()=>this.config=null)}}}),n=a("settingsStore",{state:()=>({}),actions:{}}),u=a("serverMessageStore",{state:()=>({serverMessage:"",serverMessageTimeout:null}),actions:{setServerMessage(e){this.serverMessage=e,this.serverMessageTimeout=setTimeout(()=>{this.serverMessage=""},5e3)}}});export{n as a,u as b,l as u};
