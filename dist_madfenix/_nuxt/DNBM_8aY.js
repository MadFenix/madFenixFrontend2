import{u,a as d,b as m}from"./COtTB0B9.js";import{_ as h,E as p,u as g,h as f,o as n,c,a as o,F as s,M as _,N as v,L as x}from"./BqLSPAkt.js";import{_ as b}from"./nQ8E5vDP.js";const k={middleware:"auth",data(){return{user:u(),settings:d(),serverMessage:m(),api:null,events:[],route:p(),accountParameterToUrl:""}},computed:{},mounted(){var t,i,l,r;this.setUserCookies(),this.setBackground(),window.location.hostname=="our.welore.io"?this.accountParameterToUrl=this.route.params.account?this.route.params.account+"/":"":this.accountParameterToUrl=window.location.hostname.split(".")[0]+"/",this.setConfigCookies(),g({title:"Notificaciones - "+((i=(t=this.user.config)==null?void 0:t.config)==null?void 0:i.name_ecosystem),meta:[{hid:"description",name:"description",content:"Notificaciones en "+((r=(l=this.user.config)==null?void 0:l.config)==null?void 0:r.name_ecosystem)}]});const{$api:e}=f();this.api=e,this.fetch()},methods:{setBackground(){window.location.hostname=="madfenix.com"&&(document.getElementById("container-global").style.background="transparent url('/img/perfil/back_temp.jpg') no-repeat top center")},fetch(){this.api("/api/host/event",{method:"GET"}).then(e=>e?this.events=e:"").catch(e=>e.message?this.serverMessage.setServerMessage(e.message):this.serverMessage.setServerMessage("Error."))},setConfigCookies(){let e=localStorage.getItem(this.accountParameterToUrl.replace(/^\/+|\/+$/g,"")+"_config");if(e&&(e=JSON.parse(e)),e)this.user.setConfig(this.accountParameterToUrl,e);else try{this.user.fetchConfig(this.accountParameterToUrl)}catch{}},setUserCookies(){let e=localStorage.getItem("token");if(e){this.user.setToken(e);let t=localStorage.getItem("user");if(t)this.user.updateUser(JSON.parse(t));else{console.log("test");try{this.user.fetchUser()}catch{}}}}}},w={key:0,class:s("p-5 sm:p-20")},y={class:s("relative rounded-tr-3xl rounded-bl-3xl sm:m-auto sm:w-1/2 border-2 border-[color:var(--naranja)] bg-[color:var(--gris)] overflow-hidden")},T={class:s("p-6 py-[120px] relative z-50")},M={class:s("bg-blue-500 text-white rounded shadow")},S={class:s("px-4 py-2")},U=["innerHTML"],C=["innerHTML"],N={class:s("px-4 py-2")},L=["innerHTML"];function H(e,t,i,l,r,B){return n(),c("div",null,[t[1]||(t[1]=o("h2",{class:s("leading-10 text-xl font-bold text-center mb-4 bg-[color:var(--naranja)] py-6 h-[100px] flex items-center justify-center")},"Notificaciones",-1)),r.user.user?(n(),c("div",w,[o("div",y,[t[0]||(t[0]=o("img",{src:b,class:s("absolute"),style:{"min-width":"1100px",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},null,-1)),o("div",T,[(n(!0),c(_,null,v(r.events,a=>(n(),c("div",{key:a.id,class:s("mt-5")},[o("div",M,[o("div",S,[o("div",{class:s("text-xl font-bold"),innerHTML:a.description},null,8,U),o("div",{class:s("text-sm"),innerHTML:new Date(a.reservated_at).toString()},null,8,C)]),o("div",N,[o("span",{innerHTML:a.details},null,8,L)])])]))),128))])])])):x("",!0)])}const $=h(k,[["render",H]]);export{$ as _};
