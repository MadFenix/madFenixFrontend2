import{_ as p}from"./JYaq8-bY.js";import{u as g,a as h,b as v}from"./Br9E0i3q.js";import{_ as x,u as f,e as b,n as _,f as d,c as a,a as s,g as w,v as y,h as i,b as M,w as T,d as u,F as S,r as j,o as r}from"./Bg4yKTBV.js";import{_ as k}from"./DUNHGY0u.js";const C={middleware:"auth",data(){return{user:g(),settings:h(),serverMessage:v(),api:null,couponData:{coupon:""},showProductsModal:!1,imageItemsReveal:!1,videoNewItems:"/video/MadFenixLogoReveal.mp4",itemsPurchaseToShow:null}},computed:{},mounted(){f({title:"Canjear cupón de plumas - Mad Fénix Games",meta:[{hid:"description",name:"description",content:"Canjear cupóon de plumas en Mad Fénix Games."}]}),this.setUserCookies(),this.setBackground();const{$api:e}=b();this.api=e},methods:{revealImageItems(){this.imageItemsReveal=!0},setBackground(){document.getElementById("container-global").style.background="transparent url('/img/perfil/back_temp.jpg') no-repeat top center"},openNewItems(e){this.showEventModal=!1,this.event=null,this.videoNewItems=e.video_purchase,this.itemsPurchaseToShow=e,e.video_purchase?this.imageItemsReveal=!1:this.imageItemsReveal=!0,this.showProductsModal=!0,e.video_purchase&&_(()=>{document.getElementById("video-storemadfenix").play()})},afterUseCoupon(e){this.openNewItems(e)},useCoupon(){this.api("/api/coupon/useCoupon",{method:"POST",body:this.couponData}).then(e=>this.afterUseCoupon(e)).catch(e=>e.message?e.message==="The given data was invalid."?this.serverMessage.setServerMessage("Datos inválidos."):e.response&&e.response._data&&e.response._data.message?this.serverMessage.setServerMessage(e.response._data.message):e.response&&e.response._data?this.serverMessage.setServerMessage(e.response._data):this.serverMessage.setServerMessage(e.message):e.response&&e.response._data&&e.response._data.message?this.serverMessage.setServerMessage(e.response._data.message):e.response&&e.response._data?this.serverMessage.setServerMessage(e.response._data):this.serverMessage.setServerMessage(e))},setUserCookies(){let e=d.get("token");if(e){this.user.setToken(e);let t=d.get("user");if(t)this.user.updateUser(JSON.parse(t));else{console.log("test");try{this.user.fetchUser()}catch{}}}}}},I={key:0,class:"p-5 sm:p-20"},P={class:"relative rounded-tr-3xl rounded-bl-3xl sm:m-auto sm:w-1/2 border-2 border-madfenix-naranja bg-madfenix-gris overflow-hidden"},L={class:"p-6 py-[120px] relative z-50"},N={class:"mt-5"},H={class:"relative"},B=["innerHTML"],R={class:"relative sm:mx-auto sm:w-1/2 z-50 contenedor-botones-formularios"},U={class:"flex justify-center"},z={class:"contenedor-boton-left-formularios"},D={class:"contenedor-boton-right-formularios"},V={key:0,tabindex:"-1","aria-hidden":"true",class:"overflow-y-auto overflow-x-hidden bg-madfenix-gris bg-opacity-50 fixed top-0 right-0 left-0 z-50 w-full h-modal md:h-full"},E={class:"flex items-center justify-center p-4 w-full h-screen"},F={class:"bg-madfenix-gris text-madfenix-blanco rounded-lg shadow border border-madfenix-blanco"},G={class:"flex justify-between items-start p-4 rounded-t border-b border-madfenix-blanco"},O={class:"w-full p-3 overflow-y-auto",style:{height:"500px","max-width":"700px"}},A=["src"],J={key:1,class:"grid grid-cols-2 md:grid-cols-3 gap-2"},q={class:"relative rounded-tr-3xl rounded-bl-3xl border-2 border-madfenix-naranja bg-madfenix-gris overflow-hidden"},K=["src","alt","title"],Q=["innerHTML"],W={key:0},X={class:"relative rounded-tr-3xl rounded-bl-3xl border-2 border-madfenix-naranja bg-madfenix-gris overflow-hidden"},Y=["alt","title"],Z=["innerHTML"],$={key:1},ee={class:"relative rounded-tr-3xl rounded-bl-3xl border-2 border-madfenix-naranja bg-madfenix-gris overflow-hidden"},se=["alt","title"],te=["innerHTML"];function oe(e,t,m,ne,o,l){const c=p;return r(),a("div",null,[t[10]||(t[10]=s("h2",{class:"leading-10 text-xl font-bold text-center mb-4 bg-madfenix-naranja py-6 h-[100px] flex items-center justify-center"},"Canjear Cupón",-1)),o.user.user?(r(),a("div",I,[s("div",P,[t[4]||(t[4]=s("img",{src:k,class:"absolute",style:{"min-width":"1100px",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},null,-1)),s("div",L,[s("div",N,[s("div",H,[w(s("input",{id:"coupon",type:"text","onUpdate:modelValue":t[0]||(t[0]=n=>o.couponData.coupon=n),class:"w-full text-madfenix-blanco text-center text-3xl rounded-tl-3xl rounded-br-3xl bg-madfenix-gris py-4 pl-10 pr-3 border-2 border-madfenix-gris focus:border-madfenix-naranja",placeholder:"Ingrese su cupón"},null,512),[[y,o.couponData.coupon]])])]),o.serverMessage.serverMessage?(r(),a("div",{key:0,innerHTML:o.serverMessage.serverMessage,class:"text-madfenix-rojo w-full text-center"},null,8,B)):i("",!0)])]),s("div",R,[s("div",U,[s("div",z,[M(c,{to:"/perfil",class:"flex items-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-madfenix-gris font-semibold bg-madfenix-naranja leading-snug transition ease-in-out h-10 lg:h-14 duration-250 hover:text-madfenix-naranja hover:bg-madfenix-gris border-madfenix-naranja border-2 cursor-pointer"},{default:T(()=>t[5]||(t[5]=[u(" Volver al Perfil ")])),_:1})]),t[6]||(t[6]=s("div",{class:"w-2 sm:w-12"},"   ",-1)),s("div",D,[s("button",{onClick:t[1]||(t[1]=(...n)=>l.useCoupon&&l.useCoupon(...n)),class:"flex items-center w-full m-auto justify-center px-8 py-4 btn-madfenix text-madfenix-gris font-semibold bg-madfenix-naranja leading-snug transition ease-in-out h-10 lg:h-14 duration-250 hover:text-madfenix-naranja hover:bg-madfenix-gris border-madfenix-naranja border-2 cursor-pointer"}," Canjear ")])])]),o.showProductsModal?(r(),a("div",V,[s("div",E,[s("div",F,[s("div",G,[t[8]||(t[8]=s("h3",{class:"text-xl font-semibold"}," ¡Tus nuevos ítems! ",-1)),s("button",{type:"button",onClick:t[2]||(t[2]=n=>{o.showProductsModal=!1,o.imageItemsReveal=!1}),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white"},t[7]||(t[7]=[s("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[s("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),s("span",{class:"sr-only"},"Cerrar pantalla",-1)]))]),s("div",O,[o.imageItemsReveal?i("",!0):(r(),a("video",{key:0,id:"video-storemadfenix",class:"rounded rounded-3xl border border-2 border-madfenix-gris",playsinline:"",onEnded:t[3]||(t[3]=n=>l.revealImageItems())},[s("source",{src:o.videoNewItems,type:"video/mp4"},null,8,A),t[9]||(t[9]=u(" Tu navegador no soporta el video. "))],32)),o.imageItemsReveal&&o.itemsPurchaseToShow?(r(),a("div",J,[(r(!0),a(S,null,j(o.itemsPurchaseToShow.nfts,n=>(r(),a("div",{key:n.id},[s("div",q,[s("img",{src:n.image,style:{width:"100%"},alt:n.name,title:n.name},null,8,K),s("div",{class:"px-6 mt-3 mb-10 relative z-50 w-full text-center text-madfenix-blanco",innerHTML:n.name},null,8,Q)])]))),128)),o.itemsPurchaseToShow.plumas?(r(),a("div",W,[s("div",X,[s("img",{src:"/img/perfil/pluma.png",style:{width:"100%"},alt:o.itemsPurchaseToShow.plumas,title:o.itemsPurchaseToShow.plumas},null,8,Y),s("div",{class:"px-6 mt-3 mb-10 relative z-50 w-full text-center text-madfenix-blanco",innerHTML:o.itemsPurchaseToShow.plumas},null,8,Z)])])):i("",!0),o.itemsPurchaseToShow.oro?(r(),a("div",$,[s("div",ee,[s("img",{src:"/img/perfil/oro.png",style:{width:"100%"},alt:o.itemsPurchaseToShow.oro,title:o.itemsPurchaseToShow.oro},null,8,se),s("div",{class:"px-6 mt-3 mb-10 relative z-50 w-full text-center text-madfenix-blanco",innerHTML:o.itemsPurchaseToShow.oro},null,8,te)])])):i("",!0)])):i("",!0)])])])])):i("",!0)])):i("",!0)])}const de=x(C,[["render",oe]]);export{de as default};
