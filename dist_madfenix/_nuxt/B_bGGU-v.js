import{n as T,D as y,q as E,o,k as R,c as p,a,W as d,t as s,X as x,b as g,w as c,d as k,f as L,Y as N,Z as V,$ as m,F as I,r as M,g as B,a0 as J}from"./BodNFCoI.js";const Y=["for"],j=["id","checked","disabled","value"],F=a("div",{class:"w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),U={__name:"CookieToggle",props:{value:{type:String,required:!0},isRequired:{type:Boolean,default:!1}},emits:["update:checkbox"],setup(e,{emit:n}){const i=e,t=T(!1);E(()=>{i.isRequired&&(t.value=!0,n("update:checkbox",{value:i.value,isEnabled:!0}))});const l=u=>{t.value=!t.value,n("update:checkbox",{value:u,isEnabled:t.value})};return(u,h)=>(o(),p("label",{class:x([{"cursor-pointer":!e.isRequired,"cursor-not-allowed":e.isRequired},"inline-flex relative items-center"]),for:"toggle_"+e.value},[a("input",{id:"toggle_"+e.value,checked:e.isRequired,disabled:e.isRequired,value:e.value,class:"sr-only peer",type:"checkbox",onInput:h[0]||(h[0]=_=>l(_.target.value))},null,40,j),F],10,Y))}},b={__name:"CookieButton",props:{color:{type:String,default:"primary",validator:e=>["primary","secondary","danger","danger-o","success"].includes(e)},paddingClasses:{type:[String,Array],default:()=>["py-2.5","px-5"]}},setup(e){const n=e,i=y(()=>{switch(n.color){case"secondary":return"border text-gray-900 bg-white border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700";case"danger":return"text-white bg-red-700 hover:bg-red-800 focus:ring-red-300 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900";case"danger-o":return"text-red-700 hover:text-white border border-red-700 hover:bg-red-800 focus:ring-red-300 dark:border-red-500 dark:text-red-500 dark:hover:text-white dark:hover:bg-red-600 dark:focus:ring-red-900";case"success":return"text-white bg-green-700 hover:bg-green-800 focus:ring-green-300 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800";case"primary":return"text-white bg-blue-700 hover:bg-blue-800 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800";default:return"text-white bg-blue-700 hover:bg-blue-800 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}});return(t,l)=>(o(),p("button",{class:x([[m(i),e.paddingClasses],"text-sm font-medium focus:outline-none rounded-lg focus:z-10 focus:ring-4 transition duration-150 ease-in-out"]),type:"button"},[d(t.$slots,"default")],2))}},X={class:"font-semibold"},Z={class:"ml-auto flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3"},G={class:"fixed inset-0 overflow-y-auto px-4 py-6 sm:px-0 z-[1000] flex items-center"},H={class:"fixed inset-0 transform transition-all"},K=a("div",{class:"absolute inset-0 bg-gray-500 opacity-90 dark:bg-gray-900 dark:opacity-80"},null,-1),Q=[K],ee={class:"relative bg-white dark:bg-gray-800 rounded-lg"},ae={class:"p-6 bg-gray-50 dark:bg-gray-700 rounded-t-lg"},re={class:"text-xl font-medium text-gray-900 dark:text-white"},te=a("svg",{class:"h-[12px] w-[12px]",viewPort:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},[a("line",{stroke:"currentColor","stroke-width":"2",x1:"1",x2:"11",y1:"11",y2:"1"}),a("line",{stroke:"currentColor","stroke-width":"2",x1:"1",x2:"11",y1:"1",y2:"11"})],-1),le={class:"px-6 overflow-y-auto py-6"},se={class:"text-semibold text-gray-800 dark:text-gray-200"},oe={class:"text-sm text-gray-600 dark:text-gray-400"},ne={class:"space-y-2 mt-6"},ie={class:"text-gray-800 dark:text-gray-200"},ce={key:0,class:"border-t border-gray-100 dark:border-gray-700 my-6"},de={class:"p-6 bg-gray-50 dark:bg-gray-700 rounded-b-lg"},ue={class:"flex items-center justify-end space-x-3"},ge={__name:"VueCookieComply",props:{bannerTitle:{type:String,default:"Cookie settings"},bannerDescription:{type:String,default:"We use cookies and similar technologies to help personalize content and offer a better experience. You can opt to customize them by clicking the preferences button."},preferencesBtnLabel:{type:String,default:"Preferences"},acceptAllBtnLabel:{type:String,default:"Accept All"},declineAllBtnLabel:{type:String,default:"Decline All"},savePreferencesBtnLabel:{type:String,default:"Save"},modalTitle:{type:String,default:"Your cookie settings"},preferences:{type:Array,default:()=>[]},target:{type:String,default:"body"},bannerBackgroundColor:{type:[String,Array],default:()=>["bg-gray-200","dark:bg-gray-800"]},bannerTextColor:{type:[String,Array],default:()=>["text-gray-800","dark:text-gray-200"]},bannerDescriptionTextColor:{type:[String,Array],default:()=>["text-gray-600","dark:text-gray-400"]},modalMaxWidth:{type:String,default:"xl"},bannerMaxWidth:{type:String,default:"5xl"}},emits:["on-accept-all","on-decline-all","on-save-preferences"],setup(e,{emit:n}){const i=e,t=T(!0),l=T(!1),u=T([]),h=y(()=>({xs:"sm:max-w-xs",sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl","3xl":"sm:max-w-3xl","4xl":"sm:max-w-4xl","5xl":"sm:max-w-5xl","6xl":"sm:max-w-6xl","7xl":"sm:max-w-7xl"})[i.modalMaxWidth]),_=y(()=>({xs:"sm:max-w-xs",sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl","3xl":"sm:max-w-3xl","4xl":"sm:max-w-4xl","5xl":"sm:max-w-5xl","6xl":"sm:max-w-6xl","7xl":"sm:max-w-7xl"})[i.bannerMaxWidth]),A=y(()=>i.preferences.map(r=>r.items.map(f=>f.isRequired?f.value:null)).flat().filter(r=>r)),W=y(()=>i.preferences.map(r=>r.items.map(f=>f.value)).flat().filter(r=>r)),v=y(()=>A.value.length===i.preferences.length);E(()=>{localStorage.getItem("cookie-comply")&&(t.value=!1)});const w=()=>{t.value=!1,l.value=!1,localStorage.setItem("cookie-comply",JSON.stringify(W.value)),n("on-accept-all",W.value)},O=()=>{t.value=!1,l.value=!1,localStorage.setItem("cookie-comply",JSON.stringify(A.value)),n("on-decline-all",A.value)},P=()=>{t.value=!1,l.value=!1,localStorage.setItem("cookie-comply",JSON.stringify(u.value)),n("on-save-preferences",u.value)},z=()=>{l.value=!0},q=()=>{l.value=!1},D=({value:r,isEnabled:f})=>{f?u.value.push(r):u.value.splice(u.value.indexOf(r),1)};return(r,f)=>(o(),R(J,{to:e.target},[t.value?(o(),p("aside",{key:0,class:x([[e.bannerBackgroundColor,m(_)],"fixed px-6 py-4 bottom-0 left-0 right-0 sm:bottom-6 sm:left-16 sm:right-16 sm:rounded-md mx-auto"])},[a("div",{class:x([[e.bannerTextColor],"flex items-center justify-between space-x-6"])},[a("div",null,[d(r.$slots,"banner-text",{description:e.bannerDescription,title:e.bannerTitle},()=>[a("h3",X,s(e.bannerTitle),1),a("p",{class:x([[e.bannerDescriptionTextColor],"text-sm"])},s(e.bannerDescription),3)])]),a("div",Z,[d(r.$slots,"banner-actions",{onAccept:w,onPreferences:z},()=>[g(b,{class:"whitespace-nowrap",color:"secondary",onClick:z},{default:c(()=>[k(s(e.preferencesBtnLabel),1)]),_:1}),g(b,{class:"whitespace-nowrap",color:"success",onClick:w},{default:c(()=>[k(s(e.acceptAllBtnLabel),1)]),_:1})])])],2),g(N,{"leave-active-class":"duration-200"},{default:c(()=>[L(a("div",G,[g(N,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:c(()=>[L(a("div",H,Q,512),[[V,l.value]])]),_:1}),g(N,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to-class":"opacity-100 translate-y-0 sm:scale-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100 translate-y-0 sm:scale-100","leave-to-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:c(()=>[L(a("div",{class:x([m(h),"mb-6 shadow-xl transform transition-all sm:w-full sm:mx-auto"])},[a("div",ee,[d(r.$slots,"modal-header",{modalTitle:e.modalTitle,onClose:q},()=>[a("header",ae,[d(r.$slots,"modal-title",{},()=>[a("h3",re,s(e.modalTitle),1)]),d(r.$slots,"modal-close-button",{onClose:q},()=>[g(b,{class:"absolute top-6 right-6",color:"danger-o","padding-classes":"p-1.5",onClick:q},{default:c(()=>[te]),_:1})])])]),d(r.$slots,"modal-body",{preferences:e.preferences,onToggle:D},()=>[a("main",le,[(o(!0),p(I,null,M(e.preferences,(C,$)=>(o(),p("div",{key:$},[d(r.$slots,"modal-preference-item",{index:$,preference:C,onToggle:D},()=>[a("h5",se,s(C.title),1),a("p",oe,s(C.description),1),a("div",ne,[(o(!0),p(I,null,M(C.items,S=>(o(),p("div",{key:S.value,class:"flex justify-between items-center"},[a("h6",ie,s(S.label),1),g(U,{"is-required":S.isRequired,value:S.value,"onUpdate:checkbox":D},null,8,["is-required","value"])]))),128))]),$!==e.preferences.length-1?(o(),p("hr",ce)):B("",!0)])]))),128))])]),d(r.$slots,"modal-footer",{hasOnlyRequired:m(v),onAccept:w,onDecline:O,onSave:P},()=>[a("footer",de,[a("div",ue,[a("div",{class:x([{"mr-auto":!m(v),"ml-auto":m(v)},"space-x-3"])},[m(v)?B("",!0):(o(),R(b,{key:0,class:"whitespace-nowrap",color:"danger",onClick:O},{default:c(()=>[k(s(e.declineAllBtnLabel),1)]),_:1})),g(b,{class:"whitespace-nowrap",color:"success",onClick:w},{default:c(()=>[k(s(e.acceptAllBtnLabel),1)]),_:1})],2),m(v)?B("",!0):(o(),R(b,{key:0,class:"whitespace-nowrap",onClick:P},{default:c(()=>[k(s(e.savePreferencesBtnLabel),1)]),_:1}))])])])])],2),[[V,l.value]])]),_:3})],512),[[V,l.value]])]),_:3})],2)):B("",!0)],8,["to"]))}},pe=(()=>{const e=ge;return e.install=n=>{n.component("VueCookieComply",e)},e})();export{pe as f};
